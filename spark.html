<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>T1ERA — Sparks</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Orbitron:wght@400;500;600;700;800;900&family=Fira+Code:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/@phosphor-icons/web@2.1.1/src/index.js"></script>
    <style>
      /* ══════════════════════════════════════════
   ROOT — T1ERA design system
══════════════════════════════════════════ */
      :root {
        --bg: #000000;
        --bg-2: #090909;
        --bg-3: #111111;
        --bg-4: #181818;
        --bg-card: #141414;
        --border: rgba(255, 255, 255, 0.08);
        --border-2: rgba(255, 255, 255, 0.13);
        --text: #ffffff;
        --text-2: rgba(255, 255, 255, 0.65);
        --text-3: rgba(255, 255, 255, 0.35);
        --pink: #c2185b;
        --pink-2: #e91e8c;
        --pink-glow: rgba(194, 24, 91, 0.25);
        --purple: #8b5cf6;
        --purple-glow: rgba(139, 92, 246, 0.2);
        --green: #10b981;
        --orange: #f97316;
        --gold: #f59e0b;
        --red: #ef4444;
        --r-sm: 8px;
        --r: 14px;
        --r-lg: 20px;
        --f-display: "Orbitron", sans-serif;
        --f-body: "DM Sans", sans-serif;
        --f-mono: "Fira Code", monospace;
        --ease: cubic-bezier(0.4, 0, 0.2, 1);
      }
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: var(--f-body);
        background: var(--bg);
        color: var(--text);
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
        overflow-x: hidden;
      }
      ::-webkit-scrollbar {
        width: 4px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: rgba(194, 24, 91, 0.3);
        border-radius: 4px;
      }
      button {
        font-family: var(--f-body);
        cursor: pointer;
      }
      a {
        text-decoration: none;
        color: inherit;
      }

      /* ══════════════════════════════════════════
   SEARCH BAR
══════════════════════════════════════════ */
      .search-bar-wrap {
        position: sticky;
        top: 52px;
        z-index: 299;
        background: rgba(0, 0, 0, 0.88);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border);
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.28s var(--ease), opacity 0.28s var(--ease);
        opacity: 0;
      }
      .search-bar-wrap.open {
        max-height: 60px;
        opacity: 1;
      }
      .search-bar-inner {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 16px;
      }
      .search-bar-inner > i {
        font-size: 16px;
        color: var(--text-3);
        flex-shrink: 0;
      }
      .search-bar-input {
        flex: 1;
        background: var(--bg-3);
        border: 1px solid var(--border);
        border-radius: var(--r-sm);
        padding: 7px 12px;
        color: var(--text);
        font-family: var(--f-body);
        font-size: 14px;
        outline: none;
        transition: border-color 0.18s;
      }
      .search-bar-input::placeholder {
        color: var(--text-3);
      }
      .search-bar-input:focus {
        border-color: rgba(194, 24, 91, 0.4);
      }
      .search-bar-close {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: none;
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        flex-shrink: 0;
        transition: all 0.15s;
      }
      .search-bar-close:hover {
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
      }
      .search-no-results {
        text-align: center;
        padding: 40px 20px;
        color: var(--text-3);
        font-size: 13px;
        display: none;
      }
      .search-no-results i {
        font-size: 28px;
        display: block;
        margin-bottom: 8px;
        opacity: 0.4;
      }

      /* ══════════════════════════════════════════
   TOPBAR
══════════════════════════════════════════ */
      .topbar {
        position: sticky;
        top: 0;
        z-index: 300;
        height: 52px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 16px;
        background: rgba(0, 0, 0, 0.88);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border);
      }
      .topbar-logo {
        display: flex;
        align-items: center;
        gap: 8px;
        font-family: var(--f-display);
        font-size: 13px;
        font-weight: 700;
        color: var(--text);
        letter-spacing: 0.06em;
      }
      .topbar-logo-mark {
        width: 28px;
        height: 28px;
        border-radius: 7px;
        background: linear-gradient(135deg, var(--pink), var(--purple));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 900;
        box-shadow: 0 0 12px var(--pink-glow);
      }
      .topbar-back {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 13px;
        color: var(--text-2);
        font-weight: 500;
        transition: color 0.2s;
      }
      .topbar-back:hover {
        color: var(--text);
      }
      .topbar-actions {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .tb-icon-btn {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        background: none;
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.18s;
      }
      .tb-icon-btn:hover {
        background: var(--pink-glow);
        border-color: rgba(194, 24, 91, 0.3);
        color: var(--pink-2);
      }

      /* ══════════════════════════════════════════
   LAYOUT — mobile single column / PC 3-col
══════════════════════════════════════════ */
      .page-wrap {
        display: block;
        max-width: 680px;
        margin: 0 auto;
      }

      /* PC 3-column */
      @media (min-width: 1080px) {
        .page-wrap {
          display: grid;
          grid-template-columns: 240px 1fr 280px;
          max-width: 1200px;
          gap: 0;
          align-items: start;
          padding: 0 24px;
        }
      }

      /* ══════════════════════════════════════════
   LEFT SIDEBAR — desktop only
══════════════════════════════════════════ */
      .sidebar-left {
        display: none;
      }
      @media (min-width: 1080px) {
        .sidebar-left {
          display: block;
          position: sticky;
          top: 68px;
          padding: 20px 16px 20px 0;
        }
      }
      .snav {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }
      .snav-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 11px 14px;
        border-radius: var(--r);
        font-size: 14px;
        font-weight: 600;
        color: var(--text-2);
        transition: all 0.15s;
        border: 1px solid transparent;
      }
      .snav-item:hover {
        background: rgba(194, 24, 91, 0.07);
        color: var(--text);
        border-color: rgba(194, 24, 91, 0.12);
      }
      .snav-item.active {
        background: rgba(194, 24, 91, 0.1);
        color: var(--pink-2);
        border-color: rgba(194, 24, 91, 0.2);
      }
      .snav-item i {
        font-size: 20px;
        flex-shrink: 0;
      }
      .snav-post-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        margin-top: 14px;
        padding: 12px 20px;
        border-radius: 100px;
        background: linear-gradient(135deg, var(--pink), var(--pink-2));
        border: none;
        color: #fff;
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 0.03em;
        box-shadow: 0 0 20px var(--pink-glow);
        transition: all 0.2s;
      }
      .snav-post-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 24px var(--pink-glow);
      }

      /* ══════════════════════════════════════════
   CENTER FEED
══════════════════════════════════════════ */
      .feed-col {
        width: 100%;
        border-left: 1px solid var(--border);
        border-right: 1px solid var(--border);
        min-height: 100vh;
      }

      /* ══════════════════════════════════════════
   RIGHT SIDEBAR — desktop only
══════════════════════════════════════════ */
      .sidebar-right {
        display: none;
      }
      @media (min-width: 1080px) {
        .sidebar-right {
          display: block;
          position: sticky;
          top: 68px;
          padding: 20px 0 20px 16px;
        }
      }
      .widget {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: var(--r-lg);
        padding: 16px;
        margin-bottom: 18px;
      }
      .widget-title {
        font-size: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-bottom: 14px;
      }
      /* WTF row */
      .wtf-row {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
      }
      .wtf-row:last-child {
        border-bottom: none;
      }
      .wtf-av {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 700;
        font-family: var(--f-display);
        color: #fff;
      }
      .wtf-info {
        flex: 1;
        min-width: 0;
      }
      .wtf-name {
        font-size: 12px;
        font-weight: 700;
        color: var(--text);
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .wtf-sub {
        font-size: 10px;
        color: var(--text-3);
        font-family: var(--f-mono);
      }
      .wtf-btn {
        padding: 4px 12px;
        border-radius: 100px;
        font-size: 10px;
        font-weight: 700;
        border: 1px solid var(--pink-2);
        color: var(--pink-2);
        background: transparent;
        transition: all 0.15s;
        white-space: nowrap;
      }
      .wtf-btn:hover {
        background: var(--pink-2);
        color: #fff;
      }
      .wtf-btn.on {
        border-color: var(--border-2);
        color: var(--text-3);
        background: var(--bg-3);
      }
      /* Trending rows */
      .trd-row {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
        cursor: pointer;
        transition: background 0.15s;
        border-radius: var(--r-sm);
        padding-inline: 6px;
      }
      .trd-row:last-child {
        border-bottom: none;
      }
      .trd-row:hover {
        background: rgba(255, 255, 255, 0.03);
      }
      .trd-num {
        font-family: var(--f-display);
        font-size: 16px;
        font-weight: 900;
        color: var(--border-2);
        width: 22px;
        text-align: center;
        flex-shrink: 0;
      }
      .trd-num.hot {
        color: var(--orange);
      }
      .trd-tag {
        font-size: 13px;
        font-weight: 700;
        color: var(--text);
      }
      .trd-cnt {
        font-size: 10px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-top: 1px;
      }

      /* ══════════════════════════════════════════
   SUPER TABS (SPARKS / T1ERA) — pill buttons centered
══════════════════════════════════════════ */
      .super-tabs-bar {
        position: sticky;
        top: 52px;
        z-index: 310;
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 8px 16px;
        gap: 8px;
      }
      .super-tab-btn {
        padding: 3px 12px;
        border-radius: 100px;
        background: var(--bg-3);
        border: 1px solid var(--border-2);
        color: var(--text-3);
        font-size: 9px;
        font-weight: 700;
        letter-spacing: 0.06em;
        font-family: var(--f-display);
        text-transform: uppercase;
        transition: all 0.18s;
        white-space: nowrap;
      }
      .super-tab-btn:hover:not(.active) {
        background: rgba(194, 24, 91, 0.08);
        border-color: rgba(194, 24, 91, 0.25);
        color: var(--text-2);
      }
      .super-tab-btn.active {
        background: linear-gradient(135deg, var(--pink), var(--pink-2));
        border-color: transparent;
        color: #fff;
        box-shadow: 0 0 14px var(--pink-glow);
      }
      .super-tab-panel {
        display: none;
      }
      .super-tab-panel.active {
        display: block;
      }

      /* ══════════════════════════════════════════
   TABS (sticky under topbar)
══════════════════════════════════════════ */
      .tabs-bar {
        position: sticky;
        top: 98px;
        z-index: 200;
        background: rgba(0, 0, 0, 0.92);
        backdrop-filter: blur(16px);
        border-bottom: 1px solid var(--border);
        display: flex;
      }
      .tab-btn {
        flex: 1;
        padding: 14px 6px;
        background: none;
        border: none;
        border-bottom: 2px solid transparent;
        color: var(--text-3);
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.02em;
        font-family: var(--f-body);
        transition: all 0.18s;
        white-space: nowrap;
      }
      .tab-btn.active {
        color: var(--text);
        border-bottom-color: var(--pink-2);
      }
      .tab-btn:hover:not(.active) {
        color: var(--text-2);
      }
      .tab-panel {
        display: none;
      }
      .tab-panel.active {
        display: block;
      }

      /* ══════════════════════════════════════════
   CREATE SPARK — TOGGLE BAR
══════════════════════════════════════════ */
      .compose-toggle {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        border-bottom: 1px solid var(--border);
        cursor: pointer;
        transition: background 0.15s;
      }
      .compose-toggle:hover {
        background: rgba(255, 255, 255, 0.015);
      }
      .compose-mini-av {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        flex-shrink: 0;
        background: linear-gradient(135deg, var(--pink), var(--purple));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
      }
      .compose-placeholder {
        flex: 1;
        font-size: 14px;
        color: var(--text-3);
        font-style: italic;
      }
      .compose-plus-btn {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: var(--pink);
        border: none;
        color: #fff;
        font-size: 17px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 12px var(--pink-glow);
        transition:
          background 0.18s,
          transform 0.18s;
        flex-shrink: 0;
      }
      .compose-toggle:hover .compose-plus-btn {
        background: var(--pink-2);
        transform: rotate(45deg);
      }

      /* ══════════════════════════════════════════
   CREATE SPARK — EXPANDED BOX
══════════════════════════════════════════ */
      .compose-box {
        display: none;
        flex-direction: column;
        background: var(--bg-2);
        border-bottom: 2px solid rgba(194, 24, 91, 0.2);
      }
      .compose-box.open {
        display: flex;
      }

      .compose-top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 16px 10px;
        border-bottom: 1px solid var(--border);
      }
      .compose-label {
        font-family: var(--f-display);
        font-size: 11px;
        font-weight: 700;
        color: var(--pink-2);
        letter-spacing: 0.1em;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .compose-label i {
        font-size: 14px;
      }
      .compose-close-btn {
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background: var(--bg-3);
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 13px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.15s;
      }
      .compose-close-btn:hover {
        background: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.25);
        color: rgba(239, 68, 68, 0.8);
      }

      .compose-body {
        display: flex;
        gap: 12px;
        padding: 14px 16px 8px;
        min-width: 0;
      }
      .compose-av {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        flex-shrink: 0;
        background: linear-gradient(135deg, var(--pink), var(--purple));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
        border: 2px solid rgba(194, 24, 91, 0.3);
      }
      .compose-textarea {
        flex: 1;
        background: none;
        border: none;
        outline: none;
        color: var(--text);
        font-family: var(--f-body);
        font-size: 15px;
        line-height: 1.65;
        resize: none;
        min-height: 90px;
        padding-top: 2px;
        width: 100%;
        min-width: 0;
        word-wrap: break-word;
        overflow-wrap: break-word;
        white-space: pre-wrap;
      }
      .compose-textarea::placeholder {
        color: var(--text-3);
      }

      /* Media preview */
      .media-strip {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        padding: 0 16px 10px 68px;
      }
      .media-thumb {
        position: relative;
        width: 80px;
        height: 80px;
        border-radius: 10px;
        overflow: hidden;
        border: 1px solid var(--border-2);
        background: var(--bg-3);
      }
      .media-thumb img,
      .media-thumb video {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .media-thumb-remove {
        position: absolute;
        top: 4px;
        right: 4px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.75);
        border: none;
        color: #fff;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.15s;
      }
      .media-thumb-remove:hover {
        background: rgba(239, 68, 68, 0.8);
      }
      .media-type-tag {
        position: absolute;
        bottom: 4px;
        left: 4px;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 4px;
        padding: 1px 5px;
        font-size: 7px;
        font-weight: 700;
        color: rgba(255, 255, 255, 0.75);
        font-family: var(--f-mono);
        text-transform: uppercase;
      }

      /* Footer bar */
      .compose-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 16px 14px;
        border-top: 1px solid var(--border);
        gap: 8px;
      }
      .media-btns {
        display: flex;
        align-items: center;
        gap: 2px;
      }
      .media-btn {
        position: relative;
        width: 34px;
        height: 34px;
        border-radius: var(--r-sm);
        background: none;
        border: 1px solid transparent;
        color: var(--text-3);
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.15s;
        overflow: hidden;
      }
      .media-btn:hover {
        background: rgba(194, 24, 91, 0.1);
        border-color: rgba(194, 24, 91, 0.2);
        color: var(--pink-2);
      }
      .media-btn input[type="file"] {
        position: absolute;
        inset: 0;
        opacity: 0;
        cursor: pointer;
        font-size: 0;
      }
      .compose-right {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .char-count {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
      }
      .char-count.warn {
        color: var(--orange);
      }
      .char-count.over {
        color: rgba(239, 68, 68, 0.8);
      }
      .spark-submit-btn {
        padding: 8px 22px;
        border-radius: 100px;
        background: linear-gradient(135deg, var(--pink), var(--pink-2));
        border: none;
        color: #fff;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.04em;
        box-shadow: 0 0 16px var(--pink-glow);
        transition: all 0.2s;
      }
      .spark-submit-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 20px var(--pink-glow);
      }
      .spark-submit-btn:disabled {
        opacity: 0.35;
        cursor: not-allowed;
        transform: none;
      }

      /* ══════════════════════════════════════════
   SPARK CARD
══════════════════════════════════════════ */
      .spark-card {
        padding: 16px 16px 0;
        border-bottom: 1px solid var(--border);
        transition: background 0.15s;
        cursor: pointer;
      }
      .spark-card:hover {
        background: rgba(255, 255, 255, 0.012);
      }

      /* Repost header */
      .repost-bar {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 11px;
        color: var(--text-3);
        font-weight: 600;
        margin-bottom: 8px;
        margin-left: 52px;
      }
      .repost-bar i {
        font-size: 13px;
        color: var(--green);
      }

      /* Card header */
      .card-head {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 8px;
      }
      /* Avatar stack */
      .av-wrap {
        position: relative;
        flex-shrink: 0;
      }
      .spark-av {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
        border: 2px solid var(--border-2);
        cursor: pointer;
        transition:
          border-color 0.18s,
          transform 0.18s;
        object-fit: cover;
      }
      .spark-av:hover {
        border-color: var(--pink-2);
        transform: scale(1.05);
      }
      .online-dot {
        position: absolute;
        bottom: 1px;
        right: 1px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: var(--green);
        border: 2px solid var(--bg);
        box-shadow: 0 0 6px var(--green);
      }

      /* Meta */
      .card-meta {
        flex: 1;
        min-width: 0;
      }
      .meta-row-1 {
        display: flex;
        align-items: center;
        gap: 6px;
        flex-wrap: wrap;
      }
      .author-name {
        font-size: 11px;
        font-weight: 600;
        color: var(--text-2);
        cursor: pointer;
        transition: color 0.15s;
        white-space: nowrap;
      }
      .author-name:hover {
        color: var(--pink-2);
      }
      .author-handle {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
        white-space: nowrap;
      }
      .spark-time {
        font-size: 11px;
        color: var(--text-3);
        white-space: nowrap;
        margin-left: auto;
      }
      /* Follow inline */
      .follow-pill {
        display: inline-flex;
        align-items: center;
        gap: 3px;
        padding: 2px 9px;
        border-radius: 100px;
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.03em;
        border: 1px solid var(--pink-2);
        color: var(--pink-2);
        background: transparent;
        transition: all 0.18s;
        white-space: nowrap;
      }
      .follow-pill:hover {
        background: var(--pink-2);
        color: #fff;
      }
      .follow-pill.on {
        border-color: var(--border-2);
        color: var(--text-3);
        background: var(--bg-3);
      }
      .follow-pill.on:hover {
        border-color: rgba(239, 68, 68, 0.35);
        color: rgba(239, 68, 68, 0.7);
        background: rgba(239, 68, 68, 0.05);
      }

      /* Badges row */
      .badges-row {
        display: flex;
        align-items: center;
        gap: 4px;
        flex-wrap: wrap;
        margin-top: 3px;
      }
      .badge {
        display: inline-flex;
        align-items: center;
        gap: 3px;
        padding: 1px 7px;
        border-radius: 100px;
        font-size: 9px;
        font-weight: 700;
        letter-spacing: 0.07em;
        text-transform: uppercase;
        font-family: var(--f-mono);
      }
      .badge.rank {
        background: rgba(245, 158, 11, 0.1);
        border: 1px solid rgba(245, 158, 11, 0.25);
        color: var(--gold);
      }
      .badge.verified {
        background: rgba(16, 185, 129, 0.1);
        border: 1px solid rgba(16, 185, 129, 0.25);
        color: var(--green);
      }
      .badge.verified-grey {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.18);
        color: rgba(255, 255, 255, 0.55);
        padding: 1px 5px;
      }
      .badge.verified-grey i { font-size: 11px; }

      .badge.verified-gold {
        background: rgba(245, 158, 11, 0.1);
        border: 1px solid rgba(245, 158, 11, 0.35);
        color: var(--gold);
        padding: 1px 5px;
        box-shadow: 0 0 6px rgba(245, 158, 11, 0.15);
      }
      .badge.verified-gold i { font-size: 11px; }
      .badge.prompt-tag {
        background: rgba(139, 92, 246, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.25);
        color: var(--purple);
      }
      .badge.hot {
        background: rgba(249, 115, 22, 0.1);
        border: 1px solid rgba(249, 115, 22, 0.25);
        color: var(--orange);
      }
      .badge.follow-badge {
        background: rgba(16, 185, 129, 0.08);
        border: 1px solid rgba(16, 185, 129, 0.28);
        color: var(--green);
        cursor: pointer;
        font-family: var(--f-mono);
        transition:
          background 0.18s,
          border-color 0.18s,
          color 0.18s;
      }
      .badge.follow-badge:hover {
        background: rgba(16, 185, 129, 0.2);
        border-color: rgba(16, 185, 129, 0.55);
        color: #fff;
      }
      .badge.follow-badge.following {
        background: rgba(16, 185, 129, 0.15);
        border-color: rgba(16, 185, 129, 0.45);
        color: var(--green);
      }
      .badge.follow-badge.following:hover {
        background: rgba(239, 68, 68, 0.08);
        border-color: rgba(239, 68, 68, 0.35);
        color: rgba(239, 68, 68, 0.75);
      }
      .badge.follow-badge.loading {
        opacity: 0.6;
        cursor: not-allowed;
        pointer-events: none;
      }
      .follow-pill.loading {
        opacity: 0.6;
        cursor: not-allowed;
        pointer-events: none;
      }
      @keyframes follow-pulse {
        0%,
        100% {
          opacity: 0.5;
        }
        50% {
          opacity: 1;
        }
      }

      /* Dots menu */
      .dots-btn {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: none;
        border: none;
        color: var(--text-3);
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.15s;
        flex-shrink: 0;
      }
      .dots-btn:hover {
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
      }

      /* Content area */
      .card-content {
        margin-left: 54px;
        margin-bottom: 8px;
      }
      .spark-text {
        font-size: 14px;
        line-height: 1.68;
        color: #ffffff;
        word-break: break-word;
        white-space: pre-wrap;
      }
      .spark-text .ht {
        color: var(--pink-2);
        cursor: pointer;
      }
      .spark-text .ht:hover {
        text-decoration: underline;
      }
      .spark-text .mn {
        color: var(--purple);
        cursor: pointer;
      }

      /* Media grid */
      .media-grid {
        margin-top: 10px;
        border-radius: var(--r);
        overflow: hidden;
        display: grid;
        gap: 2px;
      }
      .media-grid.g1 {
        grid-template-columns: 1fr;
      }
      .media-grid.g2 {
        grid-template-columns: 1fr 1fr;
      }
      .media-grid.g3 {
        grid-template-columns: 1fr 1fr;
      }
      .media-grid.g3 .mi:first-child {
        grid-row: span 2;
      }
      .media-grid.g4 {
        grid-template-columns: 1fr 1fr;
      }
      .mi {
        position: relative;
        overflow: hidden;
        background: var(--bg-3);
        cursor: pointer;
      }
      .media-grid.g1 .mi {
        height: 260px;
        border-radius: var(--r);
      }
      .media-grid.g2 .mi {
        height: 170px;
      }
      .media-grid.g3 .mi {
        height: 112px;
      }
      .media-grid.g3 .mi:first-child {
        height: 226px;
      }
      .media-grid.g4 .mi {
        height: 130px;
      }
      .mi img,
      .mi video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s;
      }
      .mi:hover img,
      .mi:hover video {
        transform: scale(1.04);
      }
      .mi-play {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.3);
      }
      .mi-play i {
        font-size: 38px;
        color: rgba(255, 255, 255, 0.9);
      }

      /* Prompt card */
      .prompt-card {
        margin-top: 10px;
        padding: 14px;
        background: linear-gradient(
          135deg,
          rgba(139, 92, 246, 0.07),
          rgba(194, 24, 91, 0.05)
        );
        border: 1px solid rgba(139, 92, 246, 0.2);
        border-radius: var(--r);
      }
      .prompt-label {
        font-size: 9px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--purple);
        font-family: var(--f-mono);
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 8px;
      }
      .prompt-q {
        font-size: 14px;
        font-weight: 600;
        color: var(--text);
        line-height: 1.5;
      }
      .prompt-replies {
        font-size: 11px;
        color: var(--text-3);
        margin-top: 8px;
        font-family: var(--f-mono);
      }

      /* Trending badge */
      .trending-pill {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 3px 9px;
        border-radius: 100px;
        font-size: 9px;
        font-weight: 700;
        letter-spacing: 0.07em;
        text-transform: uppercase;
        font-family: var(--f-mono);
        background: rgba(249, 115, 22, 0.1);
        border: 1px solid rgba(249, 115, 22, 0.25);
        color: var(--orange);
        margin-bottom: 8px;
      }

      /* ── ACTION BAR ── */
      .action-bar {
        display: flex;
        align-items: center;
        margin-left: 54px;
        padding: 8px 0 12px;
        gap: 2px;
      }
      .act-btn {
        display: flex;
        align-items: center;
        gap: 5px;
        padding: 5px 9px;
        border-radius: var(--r-sm);
        background: none;
        border: none;
        color: var(--text-3);
        font-size: 12px;
        font-weight: 500;
        transition: all 0.15s;
      }
      .act-btn i {
        font-size: 17px;
      }
      .act-btn:hover {
        background: rgba(255, 255, 255, 0.04);
      }
      .act-btn.like:hover,
      .act-btn.liked {
        color: rgba(239, 68, 68, 0.8);
      }
      .act-btn.like:hover {
        background: rgba(239, 68, 68, 0.06);
      }
      .act-btn.liked {
        background: rgba(239, 68, 68, 0.05);
      }
      .act-btn.reply:hover {
        color: var(--purple);
        background: var(--purple-glow);
      }
      .act-btn.repost:hover,
      .act-btn.reposted {
        color: var(--green);
      }
      .act-btn.repost:hover {
        background: rgba(16, 185, 129, 0.08);
      }
      .act-btn.reposted {
        background: rgba(16, 185, 129, 0.05);
      }
      .act-btn.share:hover {
        color: var(--pink-2);
        background: var(--pink-glow);
      }
      .act-btn.bookmark:hover {
        color: var(--gold);
        background: rgba(245, 158, 11, 0.07);
      }

      /* ══════════════════════════════════════════
   TRENDING TAB HEADER
══════════════════════════════════════════ */
      .trend-header {
        padding: 16px 16px 12px;
        border-bottom: 1px solid var(--border);
      }
      .trend-header-label {
        font-size: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-bottom: 12px;
      }
      .trend-topic {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 8px;
        border-radius: var(--r-sm);
        cursor: pointer;
        transition: background 0.15s;
        border-bottom: 1px solid var(--border);
      }
      .trend-topic:last-child {
        border-bottom: none;
      }
      .trend-topic:hover {
        background: rgba(255, 255, 255, 0.025);
      }
      .trend-n {
        font-family: var(--f-display);
        font-size: 20px;
        font-weight: 900;
        color: var(--border-2);
        width: 32px;
        text-align: center;
        flex-shrink: 0;
      }
      .trend-n.hot {
        color: var(--orange);
      }
      .trend-info {
        flex: 1;
      }
      .trend-tag {
        font-size: 14px;
        font-weight: 700;
        color: var(--text);
      }
      .trend-count {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-top: 1px;
      }
      .trend-icon {
        font-size: 18px;
      }

      /* ══════════════════════════════════════════
   PROFILE POPUP — bottom sheet
══════════════════════════════════════════ */
      .popup-overlay {
        position: fixed;
        inset: 0;
        z-index: 500;
        background: rgba(0, 0, 0, 0.75);
        backdrop-filter: blur(8px);
        display: flex;
        align-items: flex-end;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.25s,
          visibility 0.25s;
      }
      .popup-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      .popup-sheet {
        width: 100%;
        max-width: 480px;
        background: rgba(9, 6, 13, 0.98);
        border: 1px solid rgba(194, 24, 91, 0.15);
        border-radius: 24px 24px 0 0;
        padding-bottom: 40px;
        transform: translateY(28px);
        transition: transform 0.3s cubic-bezier(0.34, 1.2, 0.64, 1);
      }
      .popup-overlay.open .popup-sheet {
        transform: translateY(0);
      }
      .popup-handle {
        width: 36px;
        height: 4px;
        border-radius: 2px;
        background: var(--border-2);
        margin: 12px auto 0;
      }
      .popup-banner {
        height: 88px;
        margin-top: 8px;
        background: linear-gradient(
          135deg,
          rgba(194, 24, 91, 0.35),
          rgba(139, 92, 246, 0.25)
        );
        position: relative;
      }
      .popup-av {
        position: absolute;
        bottom: -24px;
        left: 20px;
        width: 54px;
        height: 54px;
        border-radius: 50%;
        border: 3px solid rgba(9, 6, 13, 0.98);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
      }
      .popup-follow-btn {
        position: absolute;
        bottom: -20px;
        right: 20px;
        padding: 7px 18px;
        border-radius: 100px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.04em;
        border: 1px solid var(--pink-2);
        color: var(--pink-2);
        background: transparent;
        transition: all 0.18s;
      }
      .popup-follow-btn:hover {
        background: var(--pink-2);
        color: #fff;
      }
      .popup-follow-btn.on {
        border-color: var(--border-2);
        color: var(--text-3);
        background: var(--bg-3);
      }
      .popup-info {
        padding: 34px 20px 16px;
      }
      .popup-name {
        font-size: 17px;
        font-weight: 700;
        color: var(--text);
      }
      .popup-handle-text {
        font-size: 12px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-top: 2px;
      }
      .popup-bio-text {
        font-size: 13px;
        color: var(--text-2);
        line-height: 1.55;
        margin-top: 8px;
      }
      .popup-stats {
        display: flex;
        gap: 22px;
        margin-top: 12px;
      }
      .pstat-num {
        font-size: 15px;
        font-weight: 700;
        color: var(--text);
      }
      .pstat-label {
        font-size: 10px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-top: 1px;
      }
      .popup-actions {
        display: flex;
        gap: 8px;
        padding: 0 20px 4px;
      }
      .popup-act-btn {
        flex: 1;
        padding: 9px;
        border-radius: var(--r-sm);
        background: var(--bg-3);
        border: 1px solid var(--border);
        color: var(--text-2);
        font-size: 12px;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        transition: all 0.18s;
      }
      .popup-act-btn i {
        font-size: 15px;
      }
      .popup-act-btn:hover {
        background: var(--pink-glow);
        border-color: rgba(194, 24, 91, 0.25);
        color: var(--pink-2);
      }

      @media (min-width: 1080px) {
        .popup-overlay {
          align-items: center;
        }
        .popup-sheet {
          border-radius: 20px;
          max-width: 400px;
        }
      }

      /* ══════════════════════════════════════════
   REPLY MODAL
══════════════════════════════════════════ */
      .reply-overlay {
        position: fixed;
        inset: 0;
        z-index: 510;
        background: rgba(0, 0, 0, 0.82);
        backdrop-filter: blur(10px);
        display: flex;
        align-items: flex-end;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.25s,
          visibility 0.25s;
      }
      .reply-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      .reply-sheet {
        width: 100%;
        max-width: 520px;
        background: rgba(9, 6, 13, 0.99);
        border: 1px solid rgba(194, 24, 91, 0.15);
        border-radius: 24px 24px 0 0;
        max-height: 82vh;
        overflow-y: auto;
        transform: translateY(28px);
        transition: transform 0.3s cubic-bezier(0.34, 1.2, 0.64, 1);
      }
      .reply-overlay.open .reply-sheet {
        transform: translateY(0);
      }
      .reply-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 16px 10px;
        border-bottom: 1px solid var(--border);
        position: sticky;
        top: 0;
        background: rgba(9, 6, 13, 0.99);
        z-index: 2;
        border-radius: 24px 24px 0 0;
      }
      .reply-title {
        font-family: var(--f-display);
        font-size: 11px;
        font-weight: 700;
        color: var(--pink-2);
        letter-spacing: 0.08em;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .reply-close {
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background: var(--bg-3);
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 13px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.15s;
      }
      .reply-close:hover {
        background: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.25);
        color: rgba(239, 68, 68, 0.8);
      }

      /* Original spark preview */
      .reply-orig {
        opacity: 1;
        margin: 12px 16px 0;
        padding: 12px 14px;
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.14);
        border-radius: var(--r);
      }
      .reply-orig-head {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 6px;
      }
      .reply-orig-av {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
        overflow: hidden;
      }
      .reply-orig-av img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        display: block;
      }
      .reply-orig-author {
        font-size: 13px;
        font-weight: 700;
        color: var(--text);
      }
      .reply-orig-tag {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
      }
      .reply-orig-text {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.82);
        line-height: 1.55;
        margin-left: 36px;
        margin-top: 2px;
      }

      /* Compose area */
      .reply-compose {
        display: flex;
        gap: 12px;
        padding: 14px 16px;
      }
      .reply-av {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        flex-shrink: 0;
        background: linear-gradient(135deg, var(--pink), var(--purple));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
      }
      .reply-textarea {
        flex: 1;
        background: none;
        border: none;
        outline: none;
        color: var(--text);
        font-family: var(--f-body);
        font-size: 14px;
        line-height: 1.65;
        resize: none;
        min-height: 80px;
      }
      .reply-textarea::placeholder {
        color: var(--text-3);
      }
      .reply-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 16px 14px;
        border-top: 1px solid var(--border);
      }
      .reply-media-row {
        display: flex;
        gap: 4px;
      }
      .reply-submit {
        padding: 8px 22px;
        border-radius: 100px;
        background: linear-gradient(135deg, var(--pink), var(--pink-2));
        border: none;
        color: #fff;
        font-size: 12px;
        font-weight: 700;
        box-shadow: 0 0 12px var(--pink-glow);
        transition: all 0.18s;
      }
      .reply-submit:hover {
        transform: translateY(-1px);
      }

      /* Existing replies */
      .replies-list {
        padding: 0 16px 4px;
      }
      .reply-item {
        display: flex;
        gap: 10px;
        padding: 12px 0;
        border-bottom: 1px solid var(--border);
      }
      .reply-item:last-child {
        border-bottom: none;
      }
      .ri-av {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 800;
        font-family: var(--f-display);
        color: #fff;
      }
      .ri-body {
        flex: 1;
      }
      .ri-author {
        font-size: 13px;
        font-weight: 700;
        color: var(--text);
      }
      .ri-time {
        font-size: 10px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-left: 6px;
      }
      .ri-text {
        font-size: 13px;
        color: var(--text-2);
        line-height: 1.55;
        margin-top: 3px;
      }

      @media (min-width: 1080px) {
        .reply-overlay {
          align-items: center;
        }
        .reply-sheet {
          border-radius: 20px;
          max-width: 540px;
        }
      }

      /* ══════════════════════════════════════════
   MOBILE BOTTOM NAV
══════════════════════════════════════════ */
      .mob-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: 60px;
        z-index: 250;
        background: rgba(0, 0, 0, 0.92);
        backdrop-filter: blur(20px);
        border-top: 1px solid var(--border);
        display: flex;
        align-items: center;
        justify-content: space-around;
      }
      @media (min-width: 1080px) {
        .mob-nav {
          display: none;
        }
      }
      .mob-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        color: var(--text-3);
        font-size: 10px;
        font-family: var(--f-body);
        padding: 6px 12px;
        border-radius: var(--r-sm);
        background: none;
        border: none;
        transition: color 0.15s;
      }
      .mob-btn i {
        font-size: 22px;
      }
      .mob-btn.active {
        color: var(--pink-2);
      }
      .mob-btn:hover {
        color: var(--text);
      }
      .mob-post {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--pink), var(--pink-2));
        border: none;
        color: #fff;
        font-size: 22px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 16px var(--pink-glow);
        transition:
          transform 0.18s,
          box-shadow 0.18s;
      }
      .mob-post:hover {
        transform: scale(1.1);
      }

      /* ══════════════════════════════════════════
   EMPTY STATE
══════════════════════════════════════════ */
      .empty-state {
        padding: 64px 20px;
        text-align: center;
      }
      .empty-state i {
        font-size: 44px;
        color: var(--border-2);
        display: block;
        margin-bottom: 14px;
      }
      .empty-title {
        font-size: 15px;
        font-weight: 700;
        color: var(--text-2);
        margin-bottom: 6px;
      }
      .empty-sub {
        font-size: 13px;
        color: var(--text-3);
        line-height: 1.6;
      }

      /* ══════════════════════════════════════════
   SKELETON LOADER
══════════════════════════════════════════ */
      .skeleton-card {
        padding: 16px 16px 12px;
        border-bottom: 1px solid var(--border);
      }
      .skeleton-head {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 12px;
      }
      .skeleton-av {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        flex-shrink: 0;
        background: var(--bg-4);
        overflow: hidden;
        position: relative;
      }
      .skeleton-meta {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding-top: 4px;
      }
      .skeleton-line {
        height: 10px;
        border-radius: 6px;
        background: var(--bg-4);
        overflow: hidden;
        position: relative;
      }
      .skeleton-line.w60 {
        width: 60%;
      }
      .skeleton-line.w40 {
        width: 40%;
      }
      .skeleton-line.w90 {
        width: 90%;
        height: 12px;
        margin-left: 54px;
      }
      .skeleton-line.w75 {
        width: 75%;
        height: 12px;
        margin-left: 54px;
        margin-top: 6px;
      }
      .skeleton-actions {
        display: flex;
        gap: 18px;
        margin-left: 54px;
        margin-top: 14px;
      }
      .skeleton-act {
        width: 40px;
        height: 10px;
        border-radius: 6px;
        background: var(--bg-4);
        overflow: hidden;
        position: relative;
      }
      .skeleton-av::after,
      .skeleton-line::after,
      .skeleton-act::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          90deg,
          transparent 0%,
          rgba(255, 255, 255, 0.06) 50%,
          transparent 100%
        );
        animation: shimmer 1.4s infinite;
      }
      @keyframes shimmer {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      /* ══════════════════════════════════════════
   FEED MINI HEADER
══════════════════════════════════════════ */
      .feed-mini-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 16px;
        border-bottom: 1px solid var(--border);
        background: var(--bg-2);
        position: sticky;
        top: 52px;
        z-index: 100;
        backdrop-filter: blur(12px);
      }
      .feed-mini-title {
        font-family: var(--f-display);
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 0.12em;
        color: var(--text-2);
        text-transform: uppercase;
        display: flex;
        align-items: center;
        gap: 7px;
      }
      .feed-mini-title i {
        color: var(--pink);
        font-size: 13px;
      }
      .feed-refresh-btn {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: transparent;
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s;
      }
      .feed-refresh-btn:hover {
        background: rgba(194, 24, 91, 0.12);
        border-color: rgba(194, 24, 91, 0.4);
        color: var(--pink);
      }
      .feed-refresh-btn.spinning i {
        animation: spin 0.6s linear;
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* ══════════════════════════════════════════
   NOTIFICATION BELL + PANEL
══════════════════════════════════════════ */
      .bell-wrap {
        position: relative;
        display: inline-flex;
      }
      .notif-badge {
        position: absolute;
        top: -4px;
        right: -4px;
        min-width: 17px;
        height: 17px;
        border-radius: 100px;
        background: var(--red);
        color: #fff;
        font-size: 9px;
        font-weight: 700;
        font-family: var(--f-display);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 4px;
        border: 2px solid var(--bg);
        opacity: 0;
        transform: scale(0.6);
        transition:
          opacity 0.2s,
          transform 0.2s;
        pointer-events: none;
      }
      .notif-badge.visible {
        opacity: 1;
        transform: scale(1);
      }

      /* panel */
      .notif-panel {
        position: fixed;
        top: 52px;
        right: 0;
        width: 380px;
        max-width: 100vw;
        height: calc(100vh - 52px);
        background: var(--bg-2);
        border-left: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        transform: translateX(100%);
        transition: transform 0.28s var(--ease);
        z-index: 400;
        overflow: hidden;
      }
      .notif-panel.open {
        transform: translateX(0);
      }
      .notif-backdrop {
        position: fixed;
        inset: 0;
        z-index: 399;
        background: rgba(0, 0, 0, 0.45);
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.28s,
          visibility 0.28s;
      }
      .notif-backdrop.open {
        opacity: 1;
        visibility: visible;
      }

      /* ── Settings backdrop sits BEHIND settings panel ── */
      #settingsBackdrop {
        z-index: 397;
      }

      /* panel header */
      .notif-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 18px;
        border-bottom: 1px solid var(--border);
        flex-shrink: 0;
      }
      .notif-title {
        font-family: var(--f-display);
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 0.12em;
        color: var(--text);
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .notif-title i {
        color: var(--pink);
        font-size: 14px;
      }
      .notif-mark-all {
        font-size: 11px;
        color: var(--text-3);
        background: none;
        border: none;
        cursor: pointer;
        font-family: var(--f-body);
        transition: color 0.15s;
      }
      .notif-mark-all:hover {
        color: var(--pink-2);
      }

      /* scrollable list */
      .notif-list {
        flex: 1;
        overflow-y: auto;
        padding-bottom: 24px;
      }
      .notif-list::-webkit-scrollbar {
        width: 3px;
      }
      .notif-list::-webkit-scrollbar-thumb {
        background: rgba(194, 24, 91, 0.25);
        border-radius: 3px;
      }

      /* section accordion */
      .notif-section-header {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 18px 8px;
        cursor: pointer;
        user-select: none;
        transition: background 0.15s;
        position: relative;
      }
      .notif-section-header:hover {
        background: rgba(255, 255, 255, 0.02);
      }
      .notif-section-header.has-unread .notif-section-label {
        color: var(--pink-2);
      }
      .notif-section-header.has-unread .notif-section-dot {
        display: block;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--pink);
        flex-shrink: 0;
      }
      .notif-section-dot {
        display: none;
      }
      .notif-section-label {
        font-size: 9px;
        font-weight: 700;
        letter-spacing: 0.12em;
        color: var(--text-3);
        font-family: var(--f-display);
        text-transform: uppercase;
        white-space: nowrap;
        flex: 1;
      }
      .notif-section-count {
        font-size: 9px;
        font-family: var(--f-mono);
        color: var(--text-3);
        margin-right: 4px;
      }
      .notif-section-count.has-new {
        color: var(--pink-2);
        font-weight: 700;
      }
      .notif-section-chevron {
        font-size: 11px;
        color: var(--text-3);
        transition: transform 0.22s var(--ease);
        flex-shrink: 0;
      }
      .notif-section-body {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.3s var(--ease);
      }
      .notif-section-body.open {
        max-height: 2000px;
      }

      /* individual notification row */
      .notif-row {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 10px 18px;
        cursor: pointer;
        transition: background 0.15s;
        position: relative;
      }
      .notif-row:hover {
        background: rgba(255, 255, 255, 0.03);
      }
      .notif-row.unread {
        background: rgba(194, 24, 91, 0.04);
      }
      .notif-row.unread::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: var(--pink);
        border-radius: 0 2px 2px 0;
      }
      .notif-av {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        flex-shrink: 0;
        background: linear-gradient(135deg, var(--pink), var(--purple));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        font-weight: 700;
        color: #fff;
        font-family: var(--f-display);
        overflow: hidden;
      }
      .notif-av img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }
      .notif-body {
        flex: 1;
        min-width: 0;
      }
      .notif-text {
        font-size: 12.5px;
        color: var(--text-2);
        line-height: 1.5;
      }
      .notif-text strong {
        color: var(--text);
        font-weight: 600;
      }
      .notif-sub {
        font-size: 11px;
        color: var(--text-3);
        margin-top: 2px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .notif-time {
        font-size: 10px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-top: 3px;
      }
      .notif-type-icon {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        flex-shrink: 0;
        margin-top: 4px;
      }
      .notif-type-icon.like {
        background: rgba(239, 68, 68, 0.12);
        color: #ef4444;
      }
      .notif-type-icon.bookmark {
        background: rgba(245, 158, 11, 0.12);
        color: var(--gold);
      }
      .notif-type-icon.reply {
        background: rgba(139, 92, 246, 0.12);
        color: var(--purple);
      }
      .notif-type-icon.follow {
        background: rgba(16, 185, 129, 0.12);
        color: var(--green);
      }
      .notif-type-icon.message {
        background: rgba(194, 24, 91, 0.12);
        color: var(--pink);
      }

      /* reply button inside notification row */
      .notif-reply-btn {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        margin-top: 6px;
        padding: 4px 11px;
        border-radius: 100px;
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.03em;
        border: 1px solid rgba(139, 92, 246, 0.35);
        color: var(--purple);
        background: rgba(139, 92, 246, 0.07);
        cursor: pointer;
        font-family: var(--f-body);
        transition: all 0.15s;
      }
      .notif-reply-btn:hover {
        background: rgba(139, 92, 246, 0.18);
        border-color: var(--purple);
      }

      /* reply button on each reply item inside reply sheet */
      .ri-reply-btn {
        display: inline-flex;
        align-items: center;
        gap: 3px;
        margin-top: 5px;
        padding: 3px 9px;
        border-radius: 100px;
        font-size: 10px;
        font-weight: 700;
        border: 1px solid var(--border-2);
        color: var(--text-3);
        background: none;
        cursor: pointer;
        font-family: var(--f-body);
        transition: all 0.15s;
      }
      .ri-reply-btn:hover {
        border-color: rgba(139, 92, 246, 0.4);
        color: var(--purple);
        background: rgba(139, 92, 246, 0.07);
      }

      /* placeholder */
      .notif-placeholder {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 18px 24px;
        gap: 6px;
      }
      .notif-placeholder i {
        font-size: 22px;
        color: var(--text-3);
        opacity: 0.4;
      }
      .notif-placeholder span {
        font-size: 11px;
        color: var(--text-3);
      }

      /* empty state */
      .notif-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 48px 24px;
        gap: 10px;
      }
      .notif-empty i {
        font-size: 36px;
        color: var(--text-3);
        opacity: 0.3;
      }
      .notif-empty p {
        font-size: 13px;
        color: var(--text-3);
        text-align: center;
      }

      /* ══════════════════════════════════════════
   SETTINGS PANEL
══════════════════════════════════════════ */
      .settings-panel {
        position: fixed;
        top: 52px;
        right: 0;
        width: 340px;
        max-width: 100vw;
        height: calc(100vh - 52px);
        background: var(--bg-2);
        border-left: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        transform: translateX(100%);
        transition: transform 0.28s var(--ease);
        z-index: 398;
        overflow: hidden;
      }
      .settings-panel.open {
        transform: translateX(0);
      }
      .settings-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 18px;
        border-bottom: 1px solid var(--border);
        flex-shrink: 0;
      }
      .settings-title {
        font-family: var(--f-display);
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 0.12em;
        color: var(--text);
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .settings-title i {
        color: var(--purple);
        font-size: 14px;
      }
      .settings-close {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: none;
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.15s;
      }
      .settings-close:hover {
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
      }
      .settings-body {
        flex: 1;
        overflow-y: auto;
        padding: 20px 18px;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      .settings-section-label {
        font-size: 9px;
        font-weight: 700;
        letter-spacing: 0.12em;
        color: var(--text-3);
        font-family: var(--f-display);
        text-transform: uppercase;
        margin-bottom: 8px;
      }
      .settings-placeholder {
        background: var(--bg-3);
        border: 1px solid var(--border);
        border-radius: var(--r);
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        text-align: center;
      }
      .settings-placeholder i {
        font-size: 24px;
        color: var(--text-3);
        opacity: 0.35;
      }
      .settings-placeholder span {
        font-size: 12px;
        color: var(--text-3);
      }

      /* mobile-only bell wrap — badge support */
      .mob-bell-wrap {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .mob-notif-badge {
        position: absolute;
        top: 0px;
        right: 0px;
        min-width: 15px;
        height: 15px;
        border-radius: 100px;
        background: var(--red);
        color: #fff;
        font-size: 8px;
        font-weight: 700;
        font-family: var(--f-display);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 3px;
        border: 2px solid var(--bg);
        opacity: 0;
        transform: scale(0.6);
        transition:
          opacity 0.2s,
          transform 0.2s;
        pointer-events: none;
      }
      .mob-notif-badge.visible {
        opacity: 1;
        transform: scale(1);
      }

      /* hide settings icon on mobile, show on desktop */
      .tb-settings-btn {
        display: none;
      }
      @media (min-width: 1080px) {
        .tb-settings-btn {
          display: flex;
        }
      }

      /* on mobile: hide desktop bell, show settings instead */
      .tb-bell-desktop {
        display: none;
      }
      @media (min-width: 1080px) {
        .tb-bell-desktop {
          display: inline-flex;
        }
      }
      .tb-settings-mobile {
        display: inline-flex;
      }
      @media (min-width: 1080px) {
        .tb-settings-mobile {
          display: none;
        }
      }
      .fu {
        opacity: 0;
        transform: translateY(10px);
        animation: fu 0.38s var(--ease) forwards;
      }
      @keyframes fu {
        to {
          opacity: 1;
          transform: none;
        }
      }
      .d1 {
        animation-delay: 0.06s;
      }
      .d2 {
        animation-delay: 0.12s;
      }
      .d3 {
        animation-delay: 0.18s;
      }

      /* body padding for mobile nav */
      @media (max-width: 1079px) {
        body {
          padding-bottom: 60px;
        }
      }

      /* ══════════════════════════════════════════
   DAILY QUOTA BANNER
══════════════════════════════════════════ */
      .quota-banner {
        display: none;
        align-items: center;
        gap: 10px;
        padding: 10px 16px;
        font-size: 12px;
        font-weight: 600;
        border-bottom: 1px solid var(--border);
      }
      .quota-banner.show {
        display: flex;
      }
      .quota-banner.warn {
        background: rgba(245, 158, 11, 0.07);
        color: #f59e0b;
        border-color: rgba(245, 158, 11, 0.2);
      }
      .quota-banner.full {
        background: rgba(239, 68, 68, 0.07);
        color: #ef4444;
        border-color: rgba(239, 68, 68, 0.2);
      }
      .quota-banner i {
        font-size: 16px;
        flex-shrink: 0;
      }
      .quota-banner-reset {
        margin-left: auto;
        font-size: 10px;
        color: var(--text-3);
        font-family: var(--f-mono);
        white-space: nowrap;
      }

      /* ══════════════════════════════════════════
   PAGE-LEVEL SKELETON OVERLAY
══════════════════════════════════════════ */
      .sk-pulse {
        background: var(--bg-4);
        border-radius: 6px;
        overflow: hidden;
        position: relative;
      }
      .sk-pulse::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          90deg,
          transparent 0%,
          rgba(255, 255, 255, 0.06) 50%,
          transparent 100%
        );
        animation: shimmer 1.4s infinite;
      }
      .sk-circle {
        border-radius: 50%;
      }

      /* left sidebar skeleton */
      .sk-snav-item {
        height: 42px;
        border-radius: var(--r);
        margin-bottom: 4px;
      }
      .sk-post-btn {
        height: 42px;
        border-radius: 100px;
        margin-top: 14px;
      }

      /* center feed skeleton */
      .sk-compose {
        height: 60px;
        border-radius: 0;
        margin-bottom: 0;
        border-bottom: 1px solid var(--border);
      }
      .sk-card {
        padding: 16px 16px 12px;
        border-bottom: 1px solid var(--border);
      }
      .sk-card-head {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 12px;
      }
      .sk-card-av {
        width: 42px;
        height: 42px;
        flex-shrink: 0;
      }
      .sk-card-meta {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding-top: 4px;
      }
      .sk-line {
        height: 10px;
        border-radius: 6px;
      }
      .sk-line.w60 {
        width: 60%;
      }
      .sk-line.w40 {
        width: 40%;
      }
      .sk-line.w90 {
        width: 90%;
        height: 12px;
        margin-left: 54px;
      }
      .sk-line.w70 {
        width: 70%;
        height: 12px;
        margin-left: 54px;
        margin-top: 6px;
      }
      .sk-card-acts {
        display: flex;
        gap: 18px;
        margin-left: 54px;
        margin-top: 14px;
      }
      .sk-act {
        width: 40px;
        height: 10px;
        border-radius: 6px;
      }

      /* right sidebar skeleton */
      .sk-widget {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: var(--r-lg);
        padding: 16px;
        margin-bottom: 18px;
      }
      .sk-widget-title {
        height: 8px;
        width: 40%;
        border-radius: 4px;
        margin-bottom: 14px;
      }
      .sk-wtf-row {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
      }
      .sk-wtf-row:last-child {
        border-bottom: none;
      }
      .sk-wtf-av {
        width: 36px;
        height: 36px;
        flex-shrink: 0;
      }
      .sk-wtf-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      .sk-wtf-name {
        height: 10px;
        width: 55%;
        border-radius: 4px;
      }
      .sk-wtf-sub {
        height: 8px;
        width: 35%;
        border-radius: 4px;
      }
      .sk-wtf-btn {
        width: 52px;
        height: 24px;
        border-radius: 100px;
        flex-shrink: 0;
      }
      .sk-trd-row {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
      }
      .sk-trd-row:last-child {
        border-bottom: none;
      }
      .sk-trd-num {
        width: 22px;
        height: 18px;
        border-radius: 4px;
        flex-shrink: 0;
      }
      .sk-trd-tag {
        height: 12px;
        width: 60%;
        border-radius: 4px;
      }

      /* hide/show helpers */
      .sk-page-overlay {
        display: contents;
      }
      .sk-page-overlay.sk-hidden {
        display: none;
      }
      .real-content {
        display: contents;
      }
      .real-content.sk-hidden {
        display: none;
      }

      /* ══════════════════════════════════════════
   YOUTUBE LINK PREVIEW & CARD
══════════════════════════════════════════ */
      .yt-preview-wrap {
        margin: 0 16px 10px 68px;
        border-radius: var(--r);
        overflow: hidden;
        border: 1px solid var(--border-2);
        background: var(--bg-3);
        position: relative;
        cursor: pointer;
      }
      .yt-thumb-wrap {
        position: relative;
        width: 100%;
        aspect-ratio: 16/9;
        overflow: hidden;
      }
      .yt-thumb-wrap img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.3s;
      }
      .yt-preview-wrap:hover .yt-thumb-wrap img {
        transform: scale(1.03);
      }
      .yt-play-btn {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.35);
        transition: background 0.2s;
      }
      .yt-preview-wrap:hover .yt-play-btn {
        background: rgba(0, 0, 0, 0.55);
      }
      .yt-play-icon {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: rgba(255, 0, 0, 0.92);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 16px rgba(0, 0, 0, 0.5);
        transition: transform 0.2s;
      }
      .yt-preview-wrap:hover .yt-play-icon {
        transform: scale(1.1);
      }
      .yt-play-icon svg {
        width: 22px;
        height: 22px;
        fill: #fff;
        margin-left: 3px;
      }
      .yt-label {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 12px;
        border-top: 1px solid var(--border);
      }
      .yt-logo {
        width: 20px;
        height: 14px;
        background: #ff0000;
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }
      .yt-logo svg {
        width: 12px;
        height: 12px;
        fill: #fff;
      }
      .yt-url-text {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        flex: 1;
      }
      .yt-remove-btn {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: none;
        background: var(--bg-4);
        color: var(--text-3);
        font-size: 11px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        flex-shrink: 0;
      }
      .yt-remove-btn:hover {
        background: rgba(239, 68, 68, 0.2);
        color: var(--red);
      }

      /* in-feed YouTube card */
      .yt-card {
        margin-top: 10px;
        border-radius: var(--r);
        overflow: hidden;
        border: 1px solid var(--border-2);
        background: var(--bg-3);
        cursor: pointer;
      }
      .yt-card:hover .yt-thumb-wrap img {
        transform: scale(1.03);
      }
      .yt-card:hover .yt-play-btn {
        background: rgba(0, 0, 0, 0.55);
      }
      .yt-card:hover .yt-play-icon {
        transform: scale(1.1);
      }
      .yt-card .yt-label {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
      }

      /* YouTube fullscreen modal */
      .yt-modal-overlay {
        position: fixed;
        inset: 0;
        z-index: 600;
        background: rgba(0, 0, 0, 0.92);
        backdrop-filter: blur(12px);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.25s,
          visibility 0.25s;
      }
      .yt-modal-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      .yt-modal-inner {
        width: 90vw;
        max-width: 900px;
        position: relative;
      }
      .yt-modal-close {
        position: absolute;
        top: -40px;
        right: 0;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: #fff;
        font-size: 16px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.15s;
      }
      .yt-modal-close:hover {
        background: rgba(239, 68, 68, 0.4);
      }
      .yt-modal-iframe-wrap {
        width: 100%;
        aspect-ratio: 16/9;
        border-radius: var(--r-lg);
        overflow: hidden;
        background: #000;
      }
      .yt-modal-iframe-wrap iframe {
        width: 100%;
        height: 100%;
        border: none;
        display: block;
      }

      /* ══════════════════════════════════════════
   TOAST NOTIFICATION
══════════════════════════════════════════ */
      .toast-msg {
        position: fixed;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%) translateY(16px);
        background: rgba(16, 185, 129, 0.92);
        color: #fff;
        font-size: 13px;
        font-weight: 700;
        padding: 10px 22px;
        border-radius: 100px;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.45);
        opacity: 0;
        pointer-events: none;
        transition:
          opacity 0.22s,
          transform 0.22s;
        z-index: 700;
        white-space: nowrap;
        font-family: var(--f-body);
      }
      .toast-msg.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      /* ══════════════════════════════════════════
   EMOJI PICKER POPUP
══════════════════════════════════════════ */
      .emoji-picker-overlay {
        position: fixed;
        inset: 0;
        z-index: 800;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.55);
        backdrop-filter: blur(6px);
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.22s,
          visibility 0.22s;
      }
      .emoji-picker-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      .emoji-picker-popup {
        background: var(--bg-2);
        border: 1px solid var(--border-2);
        border-radius: var(--r-lg);
        padding: 16px;
        width: 320px;
        max-width: 92vw;
        box-shadow: 0 8px 40px rgba(0, 0, 0, 0.6);
        transform: scale(0.93) translateY(10px);
        transition: transform 0.22s var(--ease);
      }
      .emoji-picker-overlay.open .emoji-picker-popup {
        transform: scale(1) translateY(0);
      }
      .emoji-picker-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
      }
      .emoji-picker-title {
        font-family: var(--f-display);
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.1em;
        color: var(--text-3);
        text-transform: uppercase;
      }
      .emoji-picker-close {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: none;
        border: 1px solid var(--border);
        color: var(--text-3);
        font-size: 12px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.15s;
      }
      .emoji-picker-close:hover {
        background: rgba(239, 68, 68, 0.15);
        border-color: rgba(239, 68, 68, 0.3);
        color: var(--red);
      }
      .emoji-picker-grid {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        gap: 4px;
      }
      .emoji-picker-grid button {
        width: 100%;
        aspect-ratio: 1;
        background: none;
        border: none;
        font-size: 22px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition:
          background 0.15s,
          transform 0.12s;
        line-height: 1;
      }
      .emoji-picker-grid button:hover {
        background: rgba(194, 24, 91, 0.12);
        transform: scale(1.18);
      }

      /* ══════════════════════════════════════════
   QUOTE BLOCK (in-feed)
══════════════════════════════════════════ */
      .quote-block {
        margin-top: 10px;
        padding: 12px 16px;
        background: rgba(139, 92, 246, 0.07);
        border-left: 3px solid var(--purple);
        border-radius: 0 var(--r-sm) var(--r-sm) 0;
        font-family: var(--f-mono);
        font-size: 11.5px;
        font-style: italic;
        color: rgba(255, 255, 255, 0.55);
        line-height: 1.65;
        word-break: break-word;
        white-space: pre-wrap;
      }
      .quote-block-label {
        font-size: 9px;
        font-weight: 700;
        letter-spacing: 0.1em;
        color: var(--purple);
        text-transform: uppercase;
        margin-bottom: 6px;
        font-family: var(--f-display);
        display: flex;
        align-items: center;
        gap: 5px;
      }
      /* ══════════════════════════════════════════
   PROMPT COMPOSE BLOCK
══════════════════════════════════════════ */
      .prompt-compose-block {
        margin: 12px 16px 0;
        border-radius: var(--r);
        background: linear-gradient(
          135deg,
          rgba(139, 92, 246, 0.08),
          rgba(194, 24, 91, 0.05)
        );
        border: 1px solid rgba(139, 92, 246, 0.22);
        overflow: hidden;
      }
      .prompt-compose-nav {
        display: flex;
        align-items: stretch;
        gap: 0;
      }
      .prompt-nav-btn {
        flex-shrink: 0;
        width: 36px;
        background: none;
        border: none;
        color: var(--text-3);
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 0.15s, background 0.15s;
      }
      .prompt-nav-btn:hover {
        color: var(--purple);
        background: rgba(139, 92, 246, 0.08);
      }
      .prompt-compose-inner {
        flex: 1;
        padding: 12px 8px;
        min-width: 0;
      }
      .prompt-compose-hint {
        font-size: 11px;
        color: var(--text-3);
        font-family: var(--f-mono);
        margin-top: 6px;
        line-height: 1.5;
      }

      /* ══════════════════════════════════════════
   T1ERA AI COMMAND PANEL (super-panel-1)
══════════════════════════════════════════ */
      /* AI brand colors */
      --grok-color: #1da1f2;
      --grok-glow: rgba(29,161,242,0.2);
      --gemini-color: #4285f4;
      --gemini-glow: rgba(66,133,244,0.2);
      --gpt-color: #10a37f;
      --gpt-glow: rgba(16,163,127,0.2);
      --blue: #3b82f6;
      --cyan: #06b6d4;

      #super-panel-1 .t1era-page-wrap {
        max-width: 100%;
        padding: 0 0 80px;
      }
      #super-panel-1 .hero {
        text-align: center;
        padding: 36px 20px 28px;
        position: relative;
      }
      #super-panel-1 .hero::before {
        content: "";
        position: absolute;
        top: 0; left: 50%; transform: translateX(-50%);
        width: 600px; height: 200px;
        background: radial-gradient(ellipse at center, rgba(194,24,91,0.12) 0%, transparent 70%);
        pointer-events: none;
      }
      #super-panel-1 .hero-badge {
        display: inline-flex; align-items: center; gap: 6px;
        padding: 4px 14px; border-radius: 100px;
        background: rgba(194,24,91,0.1);
        border: 1px solid rgba(194,24,91,0.25);
        font-size: 10px; font-weight: 700;
        letter-spacing: 0.12em; text-transform: uppercase;
        color: var(--pink-2); font-family: var(--f-mono);
        margin-bottom: 16px;
      }
      #super-panel-1 .hero-title {
        font-family: var(--f-display);
        font-size: clamp(22px, 4vw, 44px);
        font-weight: 900; letter-spacing: 0.04em; line-height: 1.1;
        margin-bottom: 12px;
        background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.6) 100%);
        -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
      }
      #super-panel-1 .hero-sub {
        font-size: 14px; color: var(--text-3);
        max-width: 440px; margin: 0 auto 24px; line-height: 1.6;
      }
      #super-panel-1 .ai-status-row {
        display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 32px;
      }
      #super-panel-1 .ai-status-chip {
        display: flex; align-items: center; gap: 8px;
        padding: 7px 14px; border-radius: 100px;
        border: 1px solid var(--border-2); background: var(--bg-card);
        font-size: 12px; font-weight: 600; transition: all 0.18s; cursor: default;
      }
      #super-panel-1 .ai-status-chip:hover { transform: translateY(-2px); }
      #super-panel-1 .ai-status-chip .dot {
        width: 7px; height: 7px; border-radius: 50%;
        animation: t1ai-pulse 2s ease infinite;
      }
      #super-panel-1 .ai-status-chip.grok { border-color: rgba(29,161,242,0.3); color: #1da1f2; }
      #super-panel-1 .ai-status-chip.grok .dot { background: #1da1f2; box-shadow: 0 0 6px #1da1f2; }
      #super-panel-1 .ai-status-chip.gemini { border-color: rgba(66,133,244,0.3); color: #4285f4; }
      #super-panel-1 .ai-status-chip.gemini .dot { background: #4285f4; box-shadow: 0 0 6px #4285f4; animation-delay: 0.4s; }
      #super-panel-1 .ai-status-chip.gpt { border-color: rgba(16,163,127,0.3); color: #10a37f; }
      #super-panel-1 .ai-status-chip.gpt .dot { background: #10a37f; box-shadow: 0 0 6px #10a37f; animation-delay: 0.8s; }
      @keyframes t1ai-pulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.5; transform: scale(0.7); }
      }
      #super-panel-1 .t1ai-section-label {
        font-size: 9px; font-weight: 700;
        text-transform: uppercase; letter-spacing: 0.14em;
        color: var(--text-3); font-family: var(--f-mono);
        margin-bottom: 16px; padding: 0 16px;
        display: flex; align-items: center; gap: 10px;
      }
      #super-panel-1 .t1ai-section-label::after {
        content: ""; flex: 1; height: 1px; background: var(--border);
      }
      #super-panel-1 .ai-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 14px; margin-bottom: 28px; padding: 0 16px;
      }
      #super-panel-1 .ai-card {
        background: var(--bg-card); border: 1px solid var(--border);
        border-radius: var(--r-lg); overflow: hidden;
        transition: all 0.22s var(--ease); position: relative;
      }
      #super-panel-1 .ai-card:hover { transform: translateY(-3px); box-shadow: 0 12px 40px rgba(0,0,0,0.4); }
      #super-panel-1 .ai-card.grok { border-color: rgba(29,161,242,0.15); }
      #super-panel-1 .ai-card.grok:hover { border-color: rgba(29,161,242,0.35); box-shadow: 0 12px 40px rgba(29,161,242,0.12); }
      #super-panel-1 .ai-card.gemini { border-color: rgba(66,133,244,0.15); }
      #super-panel-1 .ai-card.gemini:hover { border-color: rgba(66,133,244,0.35); box-shadow: 0 12px 40px rgba(66,133,244,0.12); }
      #super-panel-1 .ai-card.gpt { border-color: rgba(16,163,127,0.15); }
      #super-panel-1 .ai-card.gpt:hover { border-color: rgba(16,163,127,0.35); box-shadow: 0 12px 40px rgba(16,163,127,0.12); }
      #super-panel-1 .ai-card-glow {
        position: absolute; top: 0; left: 0; right: 0; height: 120px;
        opacity: 0.06; pointer-events: none;
      }
      #super-panel-1 .ai-card.grok .ai-card-glow { background: linear-gradient(180deg, #1da1f2, transparent); }
      #super-panel-1 .ai-card.gemini .ai-card-glow { background: linear-gradient(180deg, #4285f4, transparent); }
      #super-panel-1 .ai-card.gpt .ai-card-glow { background: linear-gradient(180deg, #10a37f, transparent); }
      #super-panel-1 .ai-card-header {
        display: flex; align-items: center; justify-content: space-between;
        padding: 16px 16px 12px; border-bottom: 1px solid var(--border); position: relative;
      }
      #super-panel-1 .ai-card-brand { display: flex; align-items: center; gap: 10px; }
      #super-panel-1 .ai-logo {
        width: 34px; height: 34px; border-radius: 10px;
        display: flex; align-items: center; justify-content: center;
        font-size: 17px; font-weight: 900; flex-shrink: 0;
      }
      #super-panel-1 .ai-card.grok .ai-logo { background: rgba(29,161,242,0.12); color: #1da1f2; border: 1px solid rgba(29,161,242,0.2); }
      #super-panel-1 .ai-card.gemini .ai-logo { background: rgba(66,133,244,0.12); color: #4285f4; border: 1px solid rgba(66,133,244,0.2); }
      #super-panel-1 .ai-card.gpt .ai-logo { background: rgba(16,163,127,0.12); color: #10a37f; border: 1px solid rgba(16,163,127,0.2); }
      #super-panel-1 .ai-brand-name { font-family: var(--f-display); font-size: 12px; font-weight: 700; letter-spacing: 0.06em; }
      #super-panel-1 .ai-brand-sub { font-size: 10px; color: var(--text-3); font-family: var(--f-mono); margin-top: 2px; }
      #super-panel-1 .ai-card-status {
        display: flex; align-items: center; gap: 5px;
        font-size: 9px; font-weight: 700; font-family: var(--f-mono);
        text-transform: uppercase; letter-spacing: 0.08em;
        padding: 3px 9px; border-radius: 100px;
      }
      #super-panel-1 .ai-card-status.coming {
        background: rgba(245,158,11,0.08); border: 1px solid rgba(245,158,11,0.2); color: var(--gold);
      }
      #super-panel-1 .ai-chat-area {
        padding: 14px 16px; min-height: 150px;
        display: flex; flex-direction: column; gap: 10px;
      }
      #super-panel-1 .chat-bubble { display: flex; gap: 8px; align-items: flex-start; }
      #super-panel-1 .chat-bubble.user { flex-direction: row-reverse; }
      #super-panel-1 .chat-av {
        width: 24px; height: 24px; border-radius: 50%; flex-shrink: 0;
        display: flex; align-items: center; justify-content: center;
        font-size: 9px; font-weight: 800; font-family: var(--f-display); color: #fff;
        background: linear-gradient(135deg, var(--pink), var(--purple));
      }
      #super-panel-1 .chat-ai-av {
        width: 24px; height: 24px; border-radius: 50%; flex-shrink: 0;
        display: flex; align-items: center; justify-content: center; font-size: 13px;
      }
      #super-panel-1 .chat-text {
        max-width: 80%; padding: 8px 12px; border-radius: 12px;
        font-size: 11.5px; line-height: 1.55; color: var(--text-2);
      }
      #super-panel-1 .chat-bubble.user .chat-text {
        background: rgba(194,24,91,0.12); border: 1px solid rgba(194,24,91,0.2);
        color: var(--text); border-radius: 12px 12px 4px 12px;
      }
      #super-panel-1 .chat-bubble.ai .chat-text {
        background: var(--bg-3); border: 1px solid var(--border);
        border-radius: 12px 12px 12px 4px;
      }
      #super-panel-1 .typing-indicator {
        display: flex; align-items: center; gap: 4px;
        padding: 9px 13px; background: var(--bg-3); border: 1px solid var(--border);
        border-radius: 12px 12px 12px 4px; width: fit-content;
      }
      #super-panel-1 .typing-indicator span {
        width: 5px; height: 5px; border-radius: 50%; background: var(--text-3);
        animation: t1ai-typing 1.2s ease infinite;
      }
      #super-panel-1 .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
      #super-panel-1 .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
      @keyframes t1ai-typing {
        0%, 100% { transform: translateY(0); opacity: 0.4; }
        50% { transform: translateY(-4px); opacity: 1; }
      }
      #super-panel-1 .ai-input-row {
        display: flex; gap: 8px; align-items: center;
        padding: 10px 16px 14px; border-top: 1px solid var(--border);
      }
      #super-panel-1 .ai-input {
        flex: 1; background: var(--bg-3); border: 1px solid var(--border);
        border-radius: var(--r-sm); padding: 8px 12px;
        color: var(--text); font-family: var(--f-body); font-size: 12px;
        outline: none; transition: border-color 0.18s;
      }
      #super-panel-1 .ai-input::placeholder { color: var(--text-3); }
      #super-panel-1 .ai-input:focus { border-color: rgba(194,24,91,0.35); }
      #super-panel-1 .ai-send-btn {
        width: 32px; height: 32px; border-radius: var(--r-sm); border: none;
        display: flex; align-items: center; justify-content: center;
        font-size: 15px; color: #fff; flex-shrink: 0; transition: all 0.18s;
      }
      #super-panel-1 .ai-card.grok .ai-send-btn { background: #1da1f2; }
      #super-panel-1 .ai-card.gemini .ai-send-btn { background: #4285f4; }
      #super-panel-1 .ai-card.gpt .ai-send-btn { background: #10a37f; }
      #super-panel-1 .ai-send-btn:hover { filter: brightness(1.15); transform: scale(1.05); }
      #super-panel-1 .coming-overlay {
        position: absolute; inset: 0; background: rgba(0,0,0,0.75);
        backdrop-filter: blur(4px);
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        gap: 10px; border-radius: var(--r-lg); z-index: 10;
      }
      #super-panel-1 .coming-overlay i { font-size: 28px; color: var(--gold); opacity: 0.7; }
      #super-panel-1 .coming-overlay p { font-size: 12px; font-weight: 700; color: var(--text-2); font-family: var(--f-display); letter-spacing: 0.06em; }
      #super-panel-1 .coming-overlay small { font-size: 10px; color: var(--text-3); font-family: var(--f-mono); }
      #super-panel-1 .notify-btn {
        padding: 6px 16px; border-radius: 100px;
        background: rgba(245,158,11,0.1); border: 1px solid rgba(245,158,11,0.3);
        color: var(--gold); font-size: 11px; font-weight: 700; transition: all 0.18s;
      }
      #super-panel-1 .notify-btn:hover { background: rgba(245,158,11,0.2); }
      #super-panel-1 .quick-grid {
        display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 10px; margin-bottom: 28px; padding: 0 16px;
      }
      #super-panel-1 .quick-card {
        background: var(--bg-card); border: 1px solid var(--border);
        border-radius: var(--r); padding: 14px; cursor: pointer;
        transition: all 0.18s; display: flex; flex-direction: column; gap: 8px;
      }
      #super-panel-1 .quick-card:hover { background: var(--bg-3); border-color: var(--border-2); transform: translateY(-2px); }
      #super-panel-1 .quick-icon { width: 36px; height: 36px; border-radius: var(--r-sm); display: flex; align-items: center; justify-content: center; font-size: 17px; }
      #super-panel-1 .quick-title { font-size: 12px; font-weight: 700; color: var(--text); }
      #super-panel-1 .quick-sub { font-size: 10px; color: var(--text-3); font-family: var(--f-mono); line-height: 1.4; }
      #super-panel-1 .stats-row {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px; margin-bottom: 28px; padding: 0 16px;
      }
      #super-panel-1 .stat-card {
        background: var(--bg-card); border: 1px solid var(--border);
        border-radius: var(--r); padding: 14px; text-align: center;
      }
      #super-panel-1 .stat-num {
        font-family: var(--f-display); font-size: 22px; font-weight: 900;
        background: linear-gradient(135deg, var(--pink-2), var(--purple));
        -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        margin-bottom: 4px;
      }
      #super-panel-1 .stat-label { font-size: 10px; color: var(--text-3); font-family: var(--f-mono); text-transform: uppercase; letter-spacing: 0.08em; }
      #super-panel-1 .activity-list { display: flex; flex-direction: column; gap: 8px; margin-bottom: 28px; padding: 0 16px; }
      #super-panel-1 .activity-item {
        display: flex; align-items: center; gap: 12px;
        padding: 12px 14px; background: var(--bg-card);
        border: 1px solid var(--border); border-radius: var(--r); transition: background 0.15s;
      }
      #super-panel-1 .activity-item:hover { background: var(--bg-3); }
      #super-panel-1 .activity-icon { width: 32px; height: 32px; border-radius: var(--r-sm); display: flex; align-items: center; justify-content: center; font-size: 15px; flex-shrink: 0; }
      #super-panel-1 .activity-text { flex: 1; font-size: 13px; color: var(--text-2); line-height: 1.4; }
      #super-panel-1 .activity-text strong { color: var(--text); font-weight: 600; }
      #super-panel-1 .activity-time { font-size: 10px; color: var(--text-3); font-family: var(--f-mono); white-space: nowrap; }

      /* ══════════════════════════════════════════
   AI OMNIBAR — mobile fixed bottom + PC inline
══════════════════════════════════════════ */

      /* ══════════════════════════════════════════
   AI OMNIBAR — MOBILE fixed + PC inline
══════════════════════════════════════════ */

      /* ── MOBILE: fixed bar sits above mob-nav ── */
      .ai-omnibar-mobile {
        display: none;
        position: fixed;
        bottom: 60px;
        left: 0;
        right: 0;
        width: 100%;
        box-sizing: border-box;
        z-index: 240;
        padding: 8px 12px 6px;
        background: rgba(0,0,0,0.92);
        backdrop-filter: blur(20px);
        border-top: 1px solid var(--border);
      }
      body.t1era-active .ai-omnibar-mobile {
        display: block;
      }
      @media (min-width: 1080px) {
        .ai-omnibar-mobile { display: none !important; }
      }

      /* ── PC: inline sticky bar at bottom of panel ── */
      .ai-omnibar-pc {
        display: none;
      }
      @media (min-width: 1080px) {
        .ai-omnibar-pc {
          display: block;
          position: sticky;
          bottom: 0;
          z-index: 50;
          padding: 14px 16px 18px;
          background: linear-gradient(to top, var(--bg) 60%, transparent);
        }
      }

      /* ── Input row: text field + send button ── */
      .ai-omnibar-input-row {
        display: flex;
        align-items: center;
        width: 100%;
        box-sizing: border-box;
        gap: 8px;
        background: var(--bg-3);
        border: 1px solid var(--border-2);
        border-radius: var(--r);
        padding: 0 6px 0 12px;
        margin-bottom: 8px;
      }
      .ai-omnibar-input {
        flex: 1;
        min-width: 0;
        background: transparent;
        border: none;
        outline: none;
        color: var(--text);
        font-family: var(--f-body);
        font-size: 13px;
        padding: 9px 0;
      }
      .ai-omnibar-input::placeholder {
        color: var(--text-3);
      }

      /* Send button */
      .ai-omnibar-send {
        width: 32px;
        height: 32px;
        border-radius: var(--r-sm);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        color: #fff;
        flex-shrink: 0;
        background: linear-gradient(135deg, var(--pink), var(--purple));
      }

      /* ── Model icons row: below input, space-around like mob-nav ── */
      .ai-omnibar-models {
        display: flex;
        align-items: center;
        justify-content: space-around;
        width: 100%;
        box-sizing: border-box;
        padding: 0 4px;
      }
      .ai-model-dot {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 900;
        border: 1.5px solid transparent;
        cursor: pointer;
        flex-shrink: 0;
      }
      .ai-model-dot[data-ai="grok"]   { background: rgba(29,161,242,0.12); color: #1da1f2; border-color: rgba(29,161,242,0.3); }
      .ai-model-dot[data-ai="gemini"] { background: rgba(66,133,244,0.12); color: #4285f4; border-color: rgba(66,133,244,0.3); }
      .ai-model-dot[data-ai="gpt"]    { background: rgba(16,163,127,0.12); color: #10a37f; border-color: rgba(16,163,127,0.3); }
      .ai-model-dot[data-ai="claude"] { background: rgba(194,24,91,0.12);  color: var(--pink-2); border-color: rgba(194,24,91,0.3); }
      .ai-model-dot.selected[data-ai="grok"]   { background: rgba(29,161,242,0.25); border-color: #1da1f2; box-shadow: 0 0 6px rgba(29,161,242,0.4); }
      .ai-model-dot.selected[data-ai="gemini"] { background: rgba(66,133,244,0.25); border-color: #4285f4; box-shadow: 0 0 6px rgba(66,133,244,0.4); }
      .ai-model-dot.selected[data-ai="gpt"]    { background: rgba(16,163,127,0.25); border-color: #10a37f; box-shadow: 0 0 6px rgba(16,163,127,0.4); }
      .ai-model-dot.selected[data-ai="claude"] { background: rgba(194,24,91,0.25);  border-color: var(--pink-2); box-shadow: 0 0 6px rgba(194,24,91,0.4); }

      /* model name label under each icon */
      .ai-model-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        cursor: pointer;
      }
      .ai-model-label {
        font-size: 8px;
        font-family: var(--f-mono);
        font-weight: 700;
        letter-spacing: 0.04em;
        color: var(--text-3);
        text-transform: uppercase;
      }
      .ai-model-item.selected .ai-model-label {
        color: var(--text-2);
      }

      /* PC omnibar uses the original single-row inner shell */
      .ai-omnibar-inner {
        display: flex;
        align-items: center;
        width: 100%;
        box-sizing: border-box;
        min-width: 0;
        border-radius: 100px;
        padding: 4px 4px 4px 16px;
        background: var(--bg-3);
        border: 1px solid var(--border-2);
        gap: 8px;
      }
      .ai-omnibar-divider {
        width: 1px; height: 20px;
        background: var(--border-2);
        flex-shrink: 0;
      }

      /* on mobile T1ERA: extra body padding for omnibar + mob-nav */
      @media (max-width: 1079px) {
        body.t1era-active {
          padding-bottom: 135px;
        }
      }
    </style>
  </head>
  <body>
    <!-- ═══════════════════════════
     TOPBAR
═══════════════════════════ -->
    <nav class="topbar">
      <a href="profile.html" class="topbar-back">
        <i class="ph-bold ph-arrow-left"></i>
        Profile
      </a>
      <a href="#" class="topbar-logo">
        <div class="topbar-logo-mark">T1</div>
        SPARKS
      </a>
      <div class="topbar-actions">
        <button class="tb-icon-btn" id="searchToggleBtn" title="Search" onclick="toggleSearchBar()">
          <i class="ph-bold ph-magnifying-glass"></i>
        </button>
        <button
          class="tb-icon-btn tb-settings-btn"
          title="Settings"
          onclick="toggleSettingsPanel()"
        >
          <i class="ph-bold ph-gear"></i>
        </button>
        <div class="bell-wrap tb-bell-desktop">
          <button
            class="tb-icon-btn"
            id="bellBtn"
            title="Notifications"
            onclick="toggleNotifPanel()"
          >
            <i class="ph-bold ph-bell"></i>
          </button>
          <span class="notif-badge" id="notifBadge">0</span>
        </div>
        <button
          class="tb-icon-btn tb-settings-mobile"
          title="Settings"
          onclick="toggleSettingsPanel()"
        >
          <i class="ph-bold ph-gear"></i>
        </button>
      </div>
    </nav>

    <!-- ═══════════════════════════
     SEARCH BAR
═══════════════════════════ -->
    <div class="search-bar-wrap" id="searchBarWrap">
      <div class="search-bar-inner">
        <i class="ph-bold ph-magnifying-glass"></i>
        <input
          class="search-bar-input"
          id="searchInput"
          type="text"
          placeholder="Search sparks, #hashtags…"
          autocomplete="off"
          oninput="onSearchInput(this)"
        />
        <button class="search-bar-close" onclick="closeSearchBar()" title="Close search">
          <i class="ph-bold ph-x"></i>
        </button>
      </div>
    </div>

    <!-- ═══════════════════════════
     MAIN GRID
═══════════════════════════ -->
    <div class="page-wrap">
      <!-- ── LEFT SIDEBAR ── -->
      <aside class="sidebar-left">
        <!-- skeleton -->
        <div class="sk-page-overlay" id="skLeft">
          <div class="sk-pulse sk-snav-item"></div>
          <div class="sk-pulse sk-snav-item"></div>
          <div class="sk-pulse sk-snav-item"></div>
          <div class="sk-pulse sk-snav-item"></div>
          <div class="sk-pulse sk-snav-item"></div>
          <div class="sk-pulse sk-post-btn"></div>
        </div>
        <!-- real -->
        <div class="real-content sk-hidden" id="realLeft">
          <nav class="snav">
            <a class="snav-item active" href="#"
              ><i class="ph-bold ph-lightning"></i>Sparks Feed</a
            >
            <a class="snav-item" href="#"
              ><i class="ph-bold ph-fire"></i>Trending</a
            >
            <a class="snav-item" href="#"
              ><i class="ph-bold ph-chat-teardrop-dots"></i>Prompts</a
            >
            <a class="snav-item" href="profile.html"
              ><i class="ph-bold ph-user-circle"></i>My Profile</a
            >
            <a class="snav-item" href="Pod-Workflow.html"
              ><i class="ph-bold ph-squares-four"></i>Dashboard</a
            >
          </nav>
          <button class="snav-post-btn" onclick="openCompose()">
            <i class="ph-bold ph-lightning"></i> New Spark
          </button>
        </div>
      </aside>

      <!-- ── CENTER FEED ── -->
      <div class="feed-col">

        <!-- ═══════════════════════════
         SUPER TABS — SPARKS / T1ERA
        ═══════════════════════════ -->
        <div class="super-tabs-bar">
          <button class="super-tab-btn active" onclick="switchSuperTab(0, this)">SPARKS</button>
          <button class="super-tab-btn" onclick="switchSuperTab(1, this)">T1ERA</button>
        </div>

        <!-- ══ SUPER PANEL 0 — SPARKS (all existing content) ══ -->
        <div class="super-tab-panel active" id="super-panel-0">

          <!-- TABS -->
          <div class="tabs-bar">
            <button class="tab-btn active" onclick="switchTab(0, this)">
              ⚡ Standard Spark
            </button>
            <button class="tab-btn" onclick="switchTab(1, this)">
              💬 Spark Prompt
            </button>
            <button class="tab-btn" onclick="switchTab(2, this)">
              🔥 Trending
            </button>
          </div>

          <!-- ════════════════════════
               TAB 0 — STANDARD SPARK
          ════════════════════════ -->
          <div class="tab-panel active" id="panel-0">
            <!-- Center feed skeleton (shown until auth+data ready) -->
            <div class="sk-page-overlay" id="skFeed">
              <div
                class="sk-pulse sk-compose"
                style="
                  margin: 0;
                  border-radius: 0;
                  height: 64px;
                  border-bottom: 1px solid var(--border);
                "
              ></div>
              <div class="sk-card">
                <div class="sk-card-head">
                  <div class="sk-pulse sk-circle sk-card-av"></div>
                  <div class="sk-card-meta">
                    <div class="sk-pulse sk-line w60"></div>
                    <div class="sk-pulse sk-line w40"></div>
                  </div>
                </div>
                <div class="sk-pulse sk-line w90"></div>
                <div class="sk-pulse sk-line w70"></div>
                <div class="sk-card-acts">
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                </div>
              </div>
              <div class="sk-card">
                <div class="sk-card-head">
                  <div class="sk-pulse sk-circle sk-card-av"></div>
                  <div class="sk-card-meta">
                    <div class="sk-pulse sk-line w60"></div>
                    <div class="sk-pulse sk-line w40"></div>
                  </div>
                </div>
                <div class="sk-pulse sk-line w90"></div>
                <div class="sk-pulse sk-line w70"></div>
                <div class="sk-card-acts">
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                </div>
              </div>
              <div class="sk-card">
                <div class="sk-card-head">
                  <div class="sk-pulse sk-circle sk-card-av"></div>
                  <div class="sk-card-meta">
                    <div class="sk-pulse sk-line w60"></div>
                    <div class="sk-pulse sk-line w40"></div>
                  </div>
                </div>
                <div class="sk-pulse sk-line w90"></div>
                <div class="sk-pulse sk-line w70"></div>
                <div class="sk-card-acts">
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                </div>
              </div>
              <div class="sk-card">
                <div class="sk-card-head">
                  <div class="sk-pulse sk-circle sk-card-av"></div>
                  <div class="sk-card-meta">
                    <div class="sk-pulse sk-line w60"></div>
                    <div class="sk-pulse sk-line w40"></div>
                  </div>
                </div>
                <div class="sk-pulse sk-line w90"></div>
                <div class="sk-pulse sk-line w70"></div>
                <div class="sk-card-acts">
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                </div>
              </div>
            </div>

            <!-- real feed content (hidden until auth+data ready) -->
            <div class="real-content sk-hidden" id="realFeed">
              <!-- Feed Mini Header -->
              <div class="feed-mini-header">
                <div class="feed-mini-title">
                  <i class="ph-bold ph-lightning"></i>
                  Sparks Feed
                </div>
                <button
                  class="feed-refresh-btn"
                  id="feedRefreshBtn"
                  onclick="triggerFeedRefresh()"
                  title="Refresh feed"
                >
                  <i class="ph-bold ph-arrows-clockwise" id="feedRefreshIcon"></i>
                </button>
              </div>

              <!-- Compose toggle -->
              <div
                class="compose-toggle"
                id="composeToggle"
                onclick="openCompose()"
              >
                <div class="compose-mini-av" id="miniAv">M</div>
                <span class="compose-placeholder">What's sparking today…</span>
                <button class="compose-plus-btn">
                  <i class="ph-bold ph-plus"></i>
                </button>
              </div>

              <!-- Daily quota banner -->
              <div class="quota-banner" id="quotaBanner">
                <i class="ph-bold ph-warning"></i>
                <span id="quotaMsg"></span>
                <span class="quota-banner-reset" id="quotaReset"></span>
              </div>

              <!-- Compose box (hidden by default) -->
              <div class="compose-box" id="composeBox">
                <div class="compose-top">
                  <span class="compose-label"
                    ><i class="ph-bold ph-lightning"></i> NEW SPARK</span
                  >
                  <button class="compose-close-btn" onclick="closeCompose()">
                    <i class="ph-bold ph-x"></i>
                  </button>
                </div>
                <div class="compose-body">
                  <div class="compose-av" id="composeAv">M</div>
                  <div style="flex: 1; min-width: 0">
                    <textarea
                      class="compose-textarea"
                      id="composeTa"
                      placeholder="Share what's on your mind… use #hashtags and @mentions"
                      oninput="onComposeInput(this)"
                      maxlength="500"
                    ></textarea>
                  </div>
                </div>
                <!-- Media preview strip -->
                <div class="media-strip" id="mediaStrip"></div>
                <!-- Footer -->
                <div class="compose-footer">
                  <div class="media-btns">
                    <button class="media-btn" title="Photo">
                      <i class="ph-bold ph-image"></i>
                      <input
                        type="file"
                        accept="image/*"
                        multiple
                        onchange="attachMedia(this, 'image')"
                      />
                    </button>
                    <button class="media-btn" title="Video">
                      <i class="ph-bold ph-video-camera"></i>
                      <input
                        type="file"
                        accept="video/*"
                        onchange="attachMedia(this, 'video')"
                      />
                    </button>
                    <button
                      class="media-btn"
                      title="GIF"
                      onclick="alert('GIF picker — coming soon')"
                    >
                      <i class="ph-bold ph-gif"></i>
                    </button>
                    <button class="media-btn" title="File">
                      <i class="ph-bold ph-paperclip"></i>
                      <input
                        type="file"
                        accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.txt,.csv"
                        onchange="attachMedia(this, 'file')"
                      />
                    </button>
                    <button class="media-btn" title="Audio">
                      <i class="ph-bold ph-microphone"></i>
                      <input
                        type="file"
                        accept="audio/*"
                        onchange="attachMedia(this, 'audio')"
                      />
                    </button>
                    <button
                      class="media-btn"
                      title="Emoji"
                      onclick="openEmojiPicker('composeTa')"
                    >
                      <i class="ph-bold ph-smiley"></i>
                    </button>
                    <button
                      class="media-btn"
                      title="Quote"
                      onclick="insertQuoteFormat('composeTa')"
                    >
                      <i class="ph-bold ph-quotes"></i>
                    </button>
                  </div>
                  <div class="compose-right">
                    <span class="char-count" id="charCount">0 / 500</span>
                    <button
                      class="spark-submit-btn"
                      id="submitBtn"
                      disabled
                      onclick="submitSpark()"
                    >
                      Spark ⚡
                    </button>
                  </div>
                </div>
              </div>

              <!-- ═══ DEMO SPARK CARDS ═══ -->

              <!-- Card 1: text + single image, already liked -->
              <article class="spark-card fu" onclick="openSparkDetail(this)">
                <div class="card-head">
                  <div class="av-wrap">
                    <div
                      class="spark-av"
                      style="
                        background: linear-gradient(135deg, #c2185b, #8b5cf6);
                      "
                      onclick="
                        event.stopPropagation();
                        showProfile(
                          'Ikram Basri',
                          'ewm24k',
                          'LV 5 · Operative',
                          128,
                          947,
                          'Just shipped T1ERA. Building the future in public 🔥 Founder · Dev · Strategist',
                          '#c2185b',
                          true,
                        );
                      "
                    >
                      IB
                    </div>
                    <span class="online-dot"></span>
                  </div>
                  <div class="card-meta">
                    <div class="meta-row-1">
                      <span
                        class="author-name"
                        onclick="
                          event.stopPropagation();
                          showProfile(
                            'Ikram Basri',
                            'ewm24k',
                            'LV 5 · Operative',
                            128,
                            947,
                            'Just shipped T1ERA. Building the future in public 🔥 Founder · Dev · Strategist',
                            '#c2185b',
                            true,
                          );
                        "
                      >
                        Ikram Basri
                      </span>
                      <span class="author-handle">@ewm24k</span>
                      <button
                        class="follow-pill on"
                        onclick="
                          event.stopPropagation();
                          toggleFollow(this);
                        "
                      >
                        Following
                      </button>
                      <span class="spark-time">2m ago</span>
                    </div>
                    <div class="badges-row">
                      <span class="badge rank"
                        ><i class="ph-fill ph-shield-star"></i> LV 5</span
                      >
                      <span class="badge verified">✓ Verified</span>
                    </div>
                  </div>
                  <button class="dots-btn" onclick="event.stopPropagation()">
                    <i class="ph-bold ph-dots-three-vertical"></i>
                  </button>
                </div>
                <div class="card-content">
                  <p class="spark-text">
                    Just pushed a massive update to T1ERA 🚀 New profile page live
                    — bio, status, banner presets, Cloudinary photo upload, and
                    desktop layout. Really proud of this build.
                    <span class="ht">#T1ERA</span>
                    <span class="ht">#BuildInPublic</span>
                    <span class="mn">@team</span> 🔥
                  </p>
                  <div class="media-grid g1">
                    <div class="mi">
                      <img
                        src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=700&q=80"
                        alt="code"
                        loading="lazy"
                      />
                    </div>
                  </div>
                </div>
                <div class="action-bar">
                  <button
                    class="act-btn like liked"
                    onclick="
                      event.stopPropagation();
                      toggleLike(this);
                    "
                  >
                    <i class="ph-fill ph-heart"></i><span>142</span>
                  </button>
                  <button
                    class="act-btn reply"
                    onclick="
                      event.stopPropagation();
                      openReply(
                        'Ikram Basri',
                        'IB',
                        '#c2185b',
                        'Just pushed a massive update to T1ERA 🚀',
                      );
                    "
                  >
                    <i class="ph-bold ph-chat-circle"></i><span>28</span>
                  </button>
                  <button
                    class="act-btn repost"
                    onclick="
                      event.stopPropagation();
                      toggleRepost(this);
                    "
                  >
                    <i class="ph-bold ph-repeat"></i><span>19</span>
                  </button>
                  <button
                    class="act-btn share"
                    onclick="
                      event.stopPropagation();
                      shareSpark();
                    "
                  >
                    <i class="ph-bold ph-share-network"></i><span>7</span>
                  </button>
                  <button
                    class="act-btn bookmark"
                    onclick="
                      event.stopPropagation();
                      toggleBookmark(this);
                    "
                    style="margin-left: auto"
                  >
                    <i class="ph-bold ph-bookmark-simple"></i>
                  </button>
                </div>
              </article>

              <!-- Card 2: reposted, text only -->
              <article class="spark-card fu d1" onclick="openSparkDetail(this)">
                <div class="repost-bar">
                  <i class="ph-bold ph-repeat"></i> Danial reposted
                </div>
                <div class="card-head">
                  <div class="av-wrap">
                    <div
                      class="spark-av"
                      style="
                        background: linear-gradient(135deg, #f59e0b, #f97316);
                      "
                      onclick="
                        event.stopPropagation();
                        showProfile(
                          'Wani Aisyah',
                          'waniaisyah',
                          'LV 3 · Scout',
                          64,
                          210,
                          'Tech enthusiast & T1ERA early adopter 🌟 Always building something new',
                          '#f59e0b',
                          false,
                        );
                      "
                    >
                      WA
                    </div>
                  </div>
                  <div class="card-meta">
                    <div class="meta-row-1">
                      <span
                        class="author-name"
                        onclick="
                          event.stopPropagation();
                          showProfile(
                            'Wani Aisyah',
                            'waniaisyah',
                            'LV 3 · Scout',
                            64,
                            210,
                            'Tech enthusiast & T1ERA early adopter 🌟',
                            '#f59e0b',
                            false,
                          );
                        "
                        >Wani Aisyah</span
                      >
                      <span class="author-handle">@waniaisyah</span>
                      <button
                        class="follow-pill"
                        onclick="
                          event.stopPropagation();
                          toggleFollow(this);
                        "
                      >
                        <i class="ph-bold ph-plus"></i> Follow
                      </button>
                      <span class="spark-time">15m ago</span>
                    </div>
                    <div class="badges-row">
                      <span class="badge rank">LV 3</span>
                    </div>
                  </div>
                  <button class="dots-btn" onclick="event.stopPropagation()">
                    <i class="ph-bold ph-dots-three-vertical"></i>
                  </button>
                </div>
                <div class="card-content">
                  <p class="spark-text">
                    The way AI is reshaping workflows in 2025 is genuinely insane.
                    Shoutout to everyone building in public — you inspire me more
                    than you know. Keep going 💪
                    <span class="ht">#BuildInPublic</span>
                    <span class="ht">#AI</span> <span class="ht">#T1ERA</span>
                  </p>
                </div>
                <div class="action-bar">
                  <button
                    class="act-btn like"
                    onclick="
                      event.stopPropagation();
                      toggleLike(this);
                    "
                  >
                    <i class="ph-bold ph-heart"></i><span>87</span>
                  </button>
                  <button
                    class="act-btn reply"
                    onclick="
                      event.stopPropagation();
                      openReply(
                        'Wani Aisyah',
                        'WA',
                        '#f59e0b',
                        'The way AI is reshaping workflows in 2025...',
                      );
                    "
                  >
                    <i class="ph-bold ph-chat-circle"></i><span>14</span>
                  </button>
                  <button
                    class="act-btn repost reposted"
                    onclick="
                      event.stopPropagation();
                      toggleRepost(this);
                    "
                  >
                    <i class="ph-bold ph-repeat"></i><span>31</span>
                  </button>
                  <button
                    class="act-btn share"
                    onclick="
                      event.stopPropagation();
                      shareSpark();
                    "
                  >
                    <i class="ph-bold ph-share-network"></i><span>4</span>
                  </button>
                  <button
                    class="act-btn bookmark"
                    onclick="
                      event.stopPropagation();
                      toggleBookmark(this);
                    "
                    style="margin-left: auto"
                  >
                    <i class="ph-bold ph-bookmark-simple"></i>
                  </button>
                </div>
              </article>

              <!-- Card 3: double image grid -->
              <article class="spark-card fu d2" onclick="openSparkDetail(this)">
                <div class="card-head">
                  <div class="av-wrap">
                    <div
                      class="spark-av"
                      style="
                        background: linear-gradient(135deg, #10b981, #0ea5e9);
                      "
                      onclick="
                        event.stopPropagation();
                        showProfile(
                          'Luqman Faiz',
                          'luqmanf',
                          'LV 2 · Recruit',
                          22,
                          89,
                          'Designer × developer. UI obsessed.',
                          '#10b981',
                          false,
                        );
                      "
                    >
                      LF
                    </div>
                  </div>
                  <div class="card-meta">
                    <div class="meta-row-1">
                      <span
                        class="author-name"
                        onclick="
                          event.stopPropagation();
                          showProfile(
                            'Luqman Faiz',
                            'luqmanf',
                            'LV 2 · Recruit',
                            22,
                            89,
                            'Designer × developer. UI obsessed.',
                            '#10b981',
                            false,
                          );
                        "
                        >Luqman Faiz</span
                      >
                      <span class="author-handle">@luqmanf</span>
                      <button
                        class="follow-pill"
                        onclick="
                          event.stopPropagation();
                          toggleFollow(this);
                        "
                      >
                        <i class="ph-bold ph-plus"></i> Follow
                      </button>
                      <span class="spark-time">1h ago</span>
                    </div>
                    <div class="badges-row">
                      <span class="badge rank">LV 2</span>
                    </div>
                  </div>
                  <button class="dots-btn" onclick="event.stopPropagation()">
                    <i class="ph-bold ph-dots-three-vertical"></i>
                  </button>
                </div>
                <div class="card-content">
                  <p class="spark-text">
                    UI explorations this week — dark gradient interfaces with pink
                    accent systems. Which direction do you prefer? Drop your
                    thoughts 👇 <span class="ht">#UIDesign</span>
                    <span class="ht">#DarkMode</span>
                  </p>
                  <div class="media-grid g2">
                    <div class="mi">
                      <img
                        src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=400&q=80"
                        alt="ui1"
                        loading="lazy"
                      />
                    </div>
                    <div class="mi">
                      <img
                        src="https://images.unsplash.com/photo-1551650975-87deedd944c3?w=400&q=80"
                        alt="ui2"
                        loading="lazy"
                      />
                    </div>
                  </div>
                </div>
                <div class="action-bar">
                  <button
                    class="act-btn like"
                    onclick="
                      event.stopPropagation();
                      toggleLike(this);
                    "
                  >
                    <i class="ph-bold ph-heart"></i><span>56</span>
                  </button>
                  <button
                    class="act-btn reply"
                    onclick="
                      event.stopPropagation();
                      openReply(
                        'Luqman Faiz',
                        'LF',
                        '#10b981',
                        'UI explorations this week...',
                      );
                    "
                  >
                    <i class="ph-bold ph-chat-circle"></i><span>9</span>
                  </button>
                  <button
                    class="act-btn repost"
                    onclick="
                      event.stopPropagation();
                      toggleRepost(this);
                    "
                  >
                    <i class="ph-bold ph-repeat"></i><span>12</span>
                  </button>
                  <button
                    class="act-btn share"
                    onclick="
                      event.stopPropagation();
                      shareSpark();
                    "
                  >
                    <i class="ph-bold ph-share-network"></i><span>3</span>
                  </button>
                  <button
                    class="act-btn bookmark"
                    onclick="
                      event.stopPropagation();
                      toggleBookmark(this);
                    "
                    style="margin-left: auto"
                  >
                    <i class="ph-bold ph-bookmark-simple"></i>
                  </button>
                </div>
              </article>

              <!-- Card 4: triple image grid -->
              <article class="spark-card fu d3" onclick="openSparkDetail(this)">
                <div class="card-head">
                  <div class="av-wrap">
                    <div
                      class="spark-av"
                      style="
                        background: linear-gradient(135deg, #8b5cf6, #c2185b);
                      "
                      onclick="
                        event.stopPropagation();
                        showProfile(
                          'Danial L.',
                          'danialL',
                          'LV 4 · Operative',
                          99,
                          301,
                          'Productivity nerd. Building the future. T1ERA power user.',
                          '#8b5cf6',
                          false,
                        );
                      "
                    >
                      DL
                    </div>
                  </div>
                  <div class="card-meta">
                    <div class="meta-row-1">
                      <span
                        class="author-name"
                        onclick="
                          event.stopPropagation();
                          showProfile(
                            'Danial L.',
                            'danialL',
                            'LV 4 · Operative',
                            99,
                            301,
                            'Productivity nerd. Building the future.',
                            '#8b5cf6',
                            false,
                          );
                        "
                        >Danial L.</span
                      >
                      <span class="author-handle">@danialL</span>
                      <button
                        class="follow-pill"
                        onclick="
                          event.stopPropagation();
                          toggleFollow(this);
                        "
                      >
                        <i class="ph-bold ph-plus"></i> Follow
                      </button>
                      <span class="spark-time">3h ago</span>
                    </div>
                    <div class="badges-row">
                      <span class="badge rank">LV 4</span>
                    </div>
                  </div>
                  <button class="dots-btn" onclick="event.stopPropagation()">
                    <i class="ph-bold ph-dots-three-vertical"></i>
                  </button>
                </div>
                <div class="card-content">
                  <p class="spark-text">
                    Workspace setup upgrade complete 🖥️ Three monitors, custom
                    desk, ambient lighting. Focus level: maximum.
                    <span class="ht">#SetupGoals</span>
                    <span class="ht">#WorkFromHome</span>
                  </p>
                  <div class="media-grid g3">
                    <div class="mi">
                      <img
                        src="https://images.unsplash.com/photo-1593640408182-31c228f2d2e1?w=500&q=80"
                        alt="desk1"
                        loading="lazy"
                      />
                    </div>
                    <div class="mi">
                      <img
                        src="https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400&q=80"
                        alt="desk2"
                        loading="lazy"
                      />
                    </div>
                    <div class="mi">
                      <img
                        src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400&q=80"
                        alt="desk3"
                        loading="lazy"
                      />
                    </div>
                  </div>
                </div>
                <div class="action-bar">
                  <button
                    class="act-btn like"
                    onclick="
                      event.stopPropagation();
                      toggleLike(this);
                    "
                  >
                    <i class="ph-bold ph-heart"></i><span>203</span>
                  </button>
                  <button
                    class="act-btn reply"
                    onclick="
                      event.stopPropagation();
                      openReply(
                        'Danial L.',
                        'DL',
                        '#8b5cf6',
                        'Workspace setup upgrade complete 🖥️',
                      );
                    "
                  >
                    <i class="ph-bold ph-chat-circle"></i><span>41</span>
                  </button>
                  <button
                    class="act-btn repost"
                    onclick="
                      event.stopPropagation();
                      toggleRepost(this);
                    "
                  >
                    <i class="ph-bold ph-repeat"></i><span>67</span>
                  </button>
                  <button
                    class="act-btn share"
                    onclick="
                      event.stopPropagation();
                      shareSpark();
                    "
                  >
                    <i class="ph-bold ph-share-network"></i><span>18</span>
                  </button>
                  <button
                    class="act-btn bookmark"
                    onclick="
                      event.stopPropagation();
                      toggleBookmark(this);
                    "
                    style="margin-left: auto"
                  >
                    <i class="ph-bold ph-bookmark-simple"></i>
                  </button>
                </div>
              </article>
            </div>
            <!-- end realFeed -->
            <div class="search-no-results" id="searchNoResults">
              <i class="ph-bold ph-magnifying-glass"></i>
              No sparks found
            </div>
          </div>
          <!-- end panel-0 -->

          <!-- ════════════════════════
               TAB 1 — SPARK PROMPT
          ════════════════════════ -->
          <div class="tab-panel" id="panel-1">

            <!-- ── PROMPT FEED SKELETON (shown until data ready) ── -->
            <div class="sk-page-overlay" id="skPromptFeed">
              <div
                class="sk-pulse sk-compose"
                style="
                  margin: 0;
                  border-radius: 0;
                  height: 64px;
                  border-bottom: 1px solid var(--border);
                "
              ></div>
              <div class="sk-card">
                <div class="sk-card-head">
                  <div class="sk-pulse sk-circle sk-card-av"></div>
                  <div class="sk-card-meta">
                    <div class="sk-pulse sk-line w60"></div>
                    <div class="sk-pulse sk-line w40"></div>
                  </div>
                </div>
                <div class="sk-pulse sk-line w90"></div>
                <div class="sk-pulse sk-line w70"></div>
                <div class="sk-card-acts">
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                </div>
              </div>
              <div class="sk-card">
                <div class="sk-card-head">
                  <div class="sk-pulse sk-circle sk-card-av"></div>
                  <div class="sk-card-meta">
                    <div class="sk-pulse sk-line w60"></div>
                    <div class="sk-pulse sk-line w40"></div>
                  </div>
                </div>
                <div class="sk-pulse sk-line w90"></div>
                <div class="sk-pulse sk-line w70"></div>
                <div class="sk-card-acts">
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                  <div class="sk-pulse sk-act"></div>
                </div>
              </div>
            </div>

            <!-- ── REAL PROMPT FEED CONTENT ── -->
            <div class="real-content sk-hidden" id="realPromptFeedWrap">

              <!-- Feed Mini Header -->
              <div class="feed-mini-header">
                <div class="feed-mini-title">
                  <i class="ph-bold ph-chat-teardrop-dots"></i>
                  Spark Prompts
                </div>
                <button
                  class="feed-refresh-btn"
                  id="promptRefreshBtn"
                  onclick="startPromptFeed()"
                  title="Refresh prompts"
                >
                  <i class="ph-bold ph-arrows-clockwise" id="promptRefreshIcon"></i>
                </button>
              </div>

              <!-- Compose toggle -->
              <div
                class="compose-toggle"
                id="promptComposeToggle"
                onclick="openPromptCompose()"
              >
                <div class="compose-mini-av" id="promptMiniAv">M</div>
                <span class="compose-placeholder">Answer a prompt and spark the conversation…</span>
                <button class="compose-plus-btn">
                  <i class="ph-bold ph-plus"></i>
                </button>
              </div>

              <!-- Compose box -->
              <div class="compose-box" id="promptComposeBox">
                <div class="compose-top">
                  <span class="compose-label">
                    <i class="ph-bold ph-chat-teardrop-dots"></i> PROMPT SPARK
                  </span>
                  <button class="compose-close-btn" onclick="closePromptCompose()">
                    <i class="ph-bold ph-x"></i>
                  </button>
                </div>

                <!-- Active prompt display — the question the user is answering -->
                <div class="prompt-compose-block" id="promptComposeBlock">
                  <div class="prompt-compose-nav">
                    <button
                      class="prompt-nav-btn"
                      onclick="cyclePrompt(-1)"
                      title="Previous prompt"
                    >
                      <i class="ph-bold ph-caret-left"></i>
                    </button>
                    <div class="prompt-compose-inner">
                      <div class="prompt-label">
                        <i class="ph-bold ph-chat-teardrop-dots"></i> Active Prompt
                      </div>
                      <p class="prompt-q" id="promptActiveQuestion">Loading prompt…</p>
                      <p class="prompt-compose-hint" id="promptActiveHint"></p>
                    </div>
                    <button
                      class="prompt-nav-btn"
                      onclick="cyclePrompt(1)"
                      title="Next prompt"
                    >
                      <i class="ph-bold ph-caret-right"></i>
                    </button>
                  </div>
                </div>

                <!-- User reply textarea -->
                <div class="compose-body" style="margin-top: 10px;">
                  <div class="compose-av" id="promptComposeAv">M</div>
                  <div style="flex: 1; min-width: 0">
                    <textarea
                      class="compose-textarea"
                      id="promptTa"
                      placeholder="Write your answer… use #hashtags and @mentions"
                      oninput="onPromptInput(this)"
                      maxlength="1500"
                    ></textarea>
                  </div>
                </div>

                <!-- Prompt media strip -->
                <div class="media-strip" id="promptMediaStrip"></div>

                <!-- Footer -->
                <div class="compose-footer">
                  <div class="media-btns">
                    <button class="media-btn" title="Photo">
                      <i class="ph-bold ph-image"></i>
                      <input
                        type="file"
                        accept="image/*"
                        multiple
                        onchange="attachPromptMedia(this)"
                      />
                    </button>
                    <button
                      class="media-btn"
                      title="Emoji"
                      onclick="openEmojiPicker('promptTa')"
                    >
                      <i class="ph-bold ph-smiley"></i>
                    </button>
                    <button
                      class="media-btn"
                      title="Quote"
                      onclick="insertPromptQuoteBlock()"
                    >
                      <i class="ph-bold ph-quotes"></i>
                    </button>
                  </div>
                  <div class="compose-right">
                    <span class="char-count" id="promptCharCount">0 / 1500</span>
                    <button
                      class="spark-submit-btn"
                      id="promptSubmitBtn"
                      disabled
                      onclick="submitPromptSpark()"
                    >
                      Spark ⚡
                    </button>
                  </div>
                </div>
              </div>

              <!-- Live prompt feed — Firestore cards injected here -->
              <div id="realPromptFeed">
                <!-- filled by spark-prompt-module.js -->
              </div>

            </div>
            <!-- end realPromptFeedWrap -->

          </div>
          <!-- end panel-1 -->

          <!-- ════════════════════════
               TAB 2 — TRENDING
          ════════════════════════ -->
          <div class="tab-panel" id="panel-2">
            <!-- Trending topics header -->
            <div class="trend-header">
              <p class="trend-header-label">🔥 Trending in T1ERA · Right Now</p>
              <div class="trend-topic">
                <div class="trend-n hot">1</div>
                <div class="trend-info">
                  <div class="trend-tag">#T1ERA</div>
                  <div class="trend-count">1,204 Sparks</div>
                </div>
                <span class="trend-icon">🔥</span>
              </div>
              <div class="trend-topic">
                <div class="trend-n hot">2</div>
                <div class="trend-info">
                  <div class="trend-tag">#BuildInPublic</div>
                  <div class="trend-count">847 Sparks</div>
                </div>
                <span class="trend-icon">🔥</span>
              </div>
              <div class="trend-topic">
                <div class="trend-n">3</div>
                <div class="trend-info">
                  <div class="trend-tag">#UIDesign</div>
                  <div class="trend-count">562 Sparks</div>
                </div>
              </div>
              <div class="trend-topic">
                <div class="trend-n">4</div>
                <div class="trend-info">
                  <div class="trend-tag">#AI</div>
                  <div class="trend-count">489 Sparks</div>
                </div>
              </div>
              <div class="trend-topic">
                <div class="trend-n">5</div>
                <div class="trend-info">
                  <div class="trend-tag">#DarkMode</div>
                  <div class="trend-count">317 Sparks</div>
                </div>
              </div>
              <div class="trend-topic">
                <div class="trend-n">6</div>
                <div class="trend-info">
                  <div class="trend-tag">#SetupGoals</div>
                  <div class="trend-count">241 Sparks</div>
                </div>
              </div>
            </div>

            <!-- Top trending spark -->
            <article class="spark-card fu" onclick="openSparkDetail(this)">
              <div class="trending-pill">
                <i class="ph-bold ph-fire"></i> Trending #1 · #T1ERA
              </div>
              <div class="card-head">
                <div class="av-wrap">
                  <div
                    class="spark-av"
                    style="background: linear-gradient(135deg, #c2185b, #8b5cf6)"
                    onclick="
                      event.stopPropagation();
                      showProfile(
                        'Ikram Basri',
                        'ewm24k',
                        'LV 5 · Operative',
                        128,
                        947,
                        'Just shipped T1ERA. Building the future in public 🔥',
                        '#c2185b',
                        true,
                      );
                    "
                  >
                    IB
                  </div>
                  <span class="online-dot"></span>
                </div>
                <div class="card-meta">
                  <div class="meta-row-1">
                    <span class="author-name">Ikram Basri</span>
                    <span class="author-handle">@ewm24k</span>
                    <button
                      class="follow-pill on"
                      onclick="
                        event.stopPropagation();
                        toggleFollow(this);
                      "
                    >
                      Following
                    </button>
                    <span class="spark-time">2h ago</span>
                  </div>
                  <div class="badges-row">
                    <span class="badge rank">LV 5</span>
                    <span class="badge verified">✓ Verified</span>
                    <span class="badge hot"
                      ><i class="ph-bold ph-fire"></i> Trending</span
                    >
                  </div>
                </div>
                <button class="dots-btn" onclick="event.stopPropagation()">
                  <i class="ph-bold ph-dots-three-vertical"></i>
                </button>
              </div>
              <div class="card-content">
                <p class="spark-text">
                  T1ERA just crossed <strong>1,000 signups</strong> in the first
                  week of beta 🎉 This is only the beginning. Thank you to
                  everyone who believed before there was anything to believe in.
                  We build together. <span class="ht">#T1ERA</span>
                  <span class="ht">#Milestone</span> 🚀
                </p>
              </div>
              <div class="action-bar">
                <button
                  class="act-btn like liked"
                  onclick="
                    event.stopPropagation();
                    toggleLike(this);
                  "
                >
                  <i class="ph-fill ph-heart"></i><span>1.2k</span>
                </button>
                <button
                  class="act-btn reply"
                  onclick="
                    event.stopPropagation();
                    openReply(
                      'Ikram Basri',
                      'IB',
                      '#c2185b',
                      'T1ERA just crossed 1,000 signups...',
                    );
                  "
                >
                  <i class="ph-bold ph-chat-circle"></i><span>284</span>
                </button>
                <button
                  class="act-btn repost reposted"
                  onclick="
                    event.stopPropagation();
                    toggleRepost(this);
                  "
                >
                  <i class="ph-bold ph-repeat"></i><span>401</span>
                </button>
                <button
                  class="act-btn share"
                  onclick="
                    event.stopPropagation();
                    shareSpark();
                  "
                >
                  <i class="ph-bold ph-share-network"></i><span>88</span>
                </button>
                <button
                  class="act-btn bookmark"
                  onclick="
                    event.stopPropagation();
                    toggleBookmark(this);
                  "
                  style="margin-left: auto"
                >
                  <i class="ph-bold ph-bookmark-simple"></i>
                </button>
              </div>
            </article>

            <!-- Trending #2 -->
            <article class="spark-card fu d1" onclick="openSparkDetail(this)">
              <div class="trending-pill">
                <i class="ph-bold ph-fire"></i> Trending #2 · #BuildInPublic
              </div>
              <div class="card-head">
                <div class="av-wrap">
                  <div
                    class="spark-av"
                    style="background: linear-gradient(135deg, #f59e0b, #f97316)"
                    onclick="
                      event.stopPropagation();
                      showProfile(
                        'Wani Aisyah',
                        'waniaisyah',
                        'LV 3 · Scout',
                        64,
                        210,
                        'Tech enthusiast & T1ERA early adopter 🌟',
                        '#f59e0b',
                        false,
                      );
                    "
                  >
                    WA
                  </div>
                </div>
                <div class="card-meta">
                  <div class="meta-row-1">
                    <span class="author-name">Wani Aisyah</span>
                    <span class="author-handle">@waniaisyah</span>
                    <button
                      class="follow-pill"
                      onclick="
                        event.stopPropagation();
                        toggleFollow(this);
                      "
                    >
                      <i class="ph-bold ph-plus"></i> Follow
                    </button>
                    <span class="spark-time">4h ago</span>
                  </div>
                  <div class="badges-row">
                    <span class="badge rank">LV 3</span>
                    <span class="badge hot"
                      ><i class="ph-bold ph-fire"></i> Trending</span
                    >
                  </div>
                </div>
                <button class="dots-btn" onclick="event.stopPropagation()">
                  <i class="ph-bold ph-dots-three-vertical"></i>
                </button>
              </div>
              <div class="card-content">
                <p class="spark-text">
                  Building in public taught me more in 3 months than 3 years of
                  building alone ever did. The feedback loop is insane when people
                  are watching. Share your journey — even the ugly parts.
                  <span class="ht">#BuildInPublic</span>
                  <span class="ht">#T1ERA</span>
                </p>
              </div>
              <div class="action-bar">
                <button
                  class="act-btn like"
                  onclick="
                    event.stopPropagation();
                    toggleLike(this);
                  "
                >
                  <i class="ph-bold ph-heart"></i><span>342</span>
                </button>
                <button
                  class="act-btn reply"
                  onclick="
                    event.stopPropagation();
                    openReply(
                      'Wani Aisyah',
                      'WA',
                      '#f59e0b',
                      'Building in public taught me more...',
                    );
                  "
                >
                  <i class="ph-bold ph-chat-circle"></i><span>76</span>
                </button>
                <button
                  class="act-btn repost"
                  onclick="
                    event.stopPropagation();
                    toggleRepost(this);
                  "
                >
                  <i class="ph-bold ph-repeat"></i><span>118</span>
                </button>
                <button
                  class="act-btn share"
                  onclick="
                    event.stopPropagation();
                    shareSpark();
                  "
                >
                  <i class="ph-bold ph-share-network"></i><span>29</span>
                </button>
                <button
                  class="act-btn bookmark"
                  onclick="
                    event.stopPropagation();
                    toggleBookmark(this);
                  "
                  style="margin-left: auto"
                >
                  <i class="ph-bold ph-bookmark-simple"></i>
                </button>
              </div>
            </article>
          </div>
          <!-- end panel-2 -->

        </div>
        <!-- end super-panel-0 -->

        <!-- ══ SUPER PANEL 1 — T1ERA (future) ══ -->
        <div class="super-tab-panel" id="super-panel-1">
          <div class="t1era-page-wrap">

            <!-- HERO -->
            <div class="hero fu">
              <div class="hero-badge">
                <i class="ph-bold ph-sparkle"></i>
                T1ERA AI Command Centre
              </div>
              <h1 class="hero-title">Your AI, One Place</h1>
              <p class="hero-sub">
                Chat with Grok, Gemini and ChatGPT — all from inside T1ERA. One workspace, three engines.
              </p>
              <div class="ai-status-row">
                <div class="ai-status-chip grok"><span class="dot"></span> Grok · xAI</div>
                <div class="ai-status-chip gemini"><span class="dot"></span> Gemini · Google</div>
                <div class="ai-status-chip gpt"><span class="dot"></span> ChatGPT · OpenAI</div>
              </div>
            </div>

            <!-- STATS -->
            <div class="t1ai-section-label fu d1">Overview</div>
            <div class="stats-row fu d1">
              <div class="stat-card"><div class="stat-num">3</div><div class="stat-label">AI Models</div></div>
              <div class="stat-card"><div class="stat-num">—</div><div class="stat-label">Queries Today</div></div>
              <div class="stat-card"><div class="stat-num">—</div><div class="stat-label">Saved Chats</div></div>
              <div class="stat-card"><div class="stat-num">—</div><div class="stat-label">Templates Used</div></div>
            </div>

            <!-- QUICK ACTIONS -->
            <div class="t1ai-section-label fu d2">Quick Actions</div>
            <div class="quick-grid fu d2">
              <div class="quick-card" onclick="showToast('Coming soon ⚡')">
                <div class="quick-icon" style="background:rgba(194,24,91,0.1);color:var(--pink-2)"><i class="ph-bold ph-lightning"></i></div>
                <div class="quick-title">Spark with AI</div>
                <div class="quick-sub">Generate a post idea from AI</div>
              </div>
              <div class="quick-card" onclick="showToast('Coming soon ⚡')">
                <div class="quick-icon" style="background:rgba(139,92,246,0.1);color:var(--purple)"><i class="ph-bold ph-pencil-simple"></i></div>
                <div class="quick-title">Rewrite My Spark</div>
                <div class="quick-sub">Polish your draft with AI</div>
              </div>
              <div class="quick-card" onclick="showToast('Coming soon ⚡')">
                <div class="quick-icon" style="background:rgba(16,185,129,0.1);color:var(--green)"><i class="ph-bold ph-hash"></i></div>
                <div class="quick-title">Hashtag Suggest</div>
                <div class="quick-sub">Find best tags for your post</div>
              </div>
              <div class="quick-card" onclick="showToast('Coming soon ⚡')">
                <div class="quick-icon" style="background:rgba(245,158,11,0.1);color:var(--gold)"><i class="ph-bold ph-translate"></i></div>
                <div class="quick-title">Translate Post</div>
                <div class="quick-sub">Translate spark to any language</div>
              </div>
              <div class="quick-card" onclick="showToast('Coming soon ⚡')">
                <div class="quick-icon" style="background:rgba(59,130,246,0.1);color:#3b82f6"><i class="ph-bold ph-chat-teardrop-dots"></i></div>
                <div class="quick-title">Reply Writer</div>
                <div class="quick-sub">AI-suggested spark replies</div>
              </div>
              <div class="quick-card" onclick="showToast('Coming soon ⚡')">
                <div class="quick-icon" style="background:rgba(6,182,212,0.1);color:#06b6d4"><i class="ph-bold ph-brain"></i></div>
                <div class="quick-title">Summarise Feed</div>
                <div class="quick-sub">TL;DR your trending sparks</div>
              </div>
            </div>

            <!-- AI CARDS -->
            <div class="t1ai-section-label fu d3">AI Models</div>
            <div class="ai-grid">

              <!-- GROK -->
              <div class="ai-card grok fu d3">
                <div class="ai-card-glow"></div>
                <div class="ai-card-header">
                  <div class="ai-card-brand">
                    <div class="ai-logo">𝕏</div>
                    <div>
                      <div class="ai-brand-name" style="color:#1da1f2">GROK</div>
                      <div class="ai-brand-sub">by xAI · Real-time web</div>
                    </div>
                  </div>
                  <div class="ai-card-status coming">Soon</div>
                </div>
                <div class="ai-chat-area">
                  <div class="chat-bubble ai">
                    <div class="chat-ai-av">🤖</div>
                    <div class="chat-text">Hey! I'm Grok. I can search the web in real-time and answer anything. What's on your mind?</div>
                  </div>
                  <div class="chat-bubble user">
                    <div class="chat-av">M</div>
                    <div class="chat-text">What's trending on X right now?</div>
                  </div>
                  <div class="chat-bubble ai">
                    <div class="chat-ai-av">🤖</div>
                    <div class="typing-indicator"><span></span><span></span><span></span></div>
                  </div>
                </div>
                <div class="ai-input-row">
                  <input class="ai-input" placeholder="Ask Grok anything…" disabled />
                  <button class="ai-send-btn" onclick="showToast('Grok integration coming soon!')"><i class="ph-bold ph-paper-plane-tilt"></i></button>
                </div>
                <div class="coming-overlay">
                  <i class="ph-bold ph-lock-simple"></i>
                  <p>GROK</p>
                  <small>Integration in progress</small>
                  <button class="notify-btn" onclick="showToast('You\'ll be notified when Grok is live! 🔔')">Notify Me</button>
                </div>
              </div>

              <!-- GEMINI -->
              <div class="ai-card gemini fu d4">
                <div class="ai-card-glow"></div>
                <div class="ai-card-header">
                  <div class="ai-card-brand">
                    <div class="ai-logo">✦</div>
                    <div>
                      <div class="ai-brand-name" style="color:#4285f4">GEMINI</div>
                      <div class="ai-brand-sub">by Google · Multimodal</div>
                    </div>
                  </div>
                  <div class="ai-card-status coming">Soon</div>
                </div>
                <div class="ai-chat-area">
                  <div class="chat-bubble ai">
                    <div class="chat-ai-av">✦</div>
                    <div class="chat-text">Hello! I'm Gemini. I can understand text, images, and code. How can I help you today?</div>
                  </div>
                  <div class="chat-bubble user">
                    <div class="chat-av">M</div>
                    <div class="chat-text">Help me write a better spark post about productivity.</div>
                  </div>
                  <div class="chat-bubble ai">
                    <div class="chat-ai-av">✦</div>
                    <div class="typing-indicator"><span></span><span></span><span></span></div>
                  </div>
                </div>
                <div class="ai-input-row">
                  <input class="ai-input" placeholder="Ask Gemini anything…" disabled />
                  <button class="ai-send-btn" onclick="showToast('Gemini integration coming soon!')"><i class="ph-bold ph-paper-plane-tilt"></i></button>
                </div>
                <div class="coming-overlay">
                  <i class="ph-bold ph-lock-simple"></i>
                  <p>GEMINI</p>
                  <small>Integration in progress</small>
                  <button class="notify-btn" onclick="showToast('You\'ll be notified when Gemini is live! 🔔')">Notify Me</button>
                </div>
              </div>

              <!-- CHATGPT -->
              <div class="ai-card gpt fu d5">
                <div class="ai-card-glow"></div>
                <div class="ai-card-header">
                  <div class="ai-card-brand">
                    <div class="ai-logo">⬡</div>
                    <div>
                      <div class="ai-brand-name" style="color:#10a37f">CHATGPT</div>
                      <div class="ai-brand-sub">by OpenAI · GPT-4o</div>
                    </div>
                  </div>
                  <div class="ai-card-status coming">Soon</div>
                </div>
                <div class="ai-chat-area">
                  <div class="chat-bubble ai">
                    <div class="chat-ai-av">⬡</div>
                    <div class="chat-text">Hi there! I'm ChatGPT. I'm great at writing, analysis, and brainstorming. What would you like to work on?</div>
                  </div>
                  <div class="chat-bubble user">
                    <div class="chat-av">M</div>
                    <div class="chat-text">Suggest 3 hashtags for my tech post.</div>
                  </div>
                  <div class="chat-bubble ai">
                    <div class="chat-ai-av">⬡</div>
                    <div class="typing-indicator"><span></span><span></span><span></span></div>
                  </div>
                </div>
                <div class="ai-input-row">
                  <input class="ai-input" placeholder="Ask ChatGPT anything…" disabled />
                  <button class="ai-send-btn" onclick="showToast('ChatGPT integration coming soon!')"><i class="ph-bold ph-paper-plane-tilt"></i></button>
                </div>
                <div class="coming-overlay">
                  <i class="ph-bold ph-lock-simple"></i>
                  <p>CHATGPT</p>
                  <small>Integration in progress</small>
                  <button class="notify-btn" onclick="showToast('You\'ll be notified when ChatGPT is live! 🔔')">Notify Me</button>
                </div>
              </div>

            </div><!-- end ai-grid -->

            <!-- RECENT ACTIVITY -->
            <div class="t1ai-section-label fu d5">Recent AI Activity</div>
            <div class="activity-list fu d5">
              <div class="activity-item">
                <div class="activity-icon" style="background:rgba(194,24,91,0.1);color:var(--pink-2)"><i class="ph-bold ph-sparkle"></i></div>
                <div class="activity-text"><strong>AI Command Centre</strong> is live — connect your first AI model to get started</div>
                <div class="activity-time">just now</div>
              </div>
              <div class="activity-item">
                <div class="activity-icon" style="background:rgba(245,158,11,0.1);color:var(--gold)"><i class="ph-bold ph-star"></i></div>
                <div class="activity-text"><strong>3 AI integrations</strong> queued — Grok, Gemini and ChatGPT coming soon</div>
                <div class="activity-time">today</div>
              </div>
              <div class="activity-item">
                <div class="activity-icon" style="background:rgba(139,92,246,0.1);color:var(--purple)"><i class="ph-bold ph-rocket-launch"></i></div>
                <div class="activity-text"><strong>T1ERA AI</strong> roadmap — Spark Writer, Reply Assistant and Feed Summariser planned</div>
                <div class="activity-time">this week</div>
              </div>
            </div>

            <!-- ── AI OMNIBAR — PC (sticky bottom of panel) ── -->
            <div class="ai-omnibar-pc">
              <div class="ai-omnibar-inner" id="aiOmnibarPc">
                <input
                  class="ai-omnibar-input"
                  id="aiOmniInputPc"
                  placeholder="Ask Grok, Gemini, ChatGPT or Claude anything…"
                  autocomplete="off"
                  onkeydown="if(event.key==='Enter')aiOmnibarSend('pc')"
                />
                <div class="ai-omnibar-models" id="aiModelsPc">
                  <div class="ai-model-dot" data-ai="grok"   data-label="GROK"    title="Grok · xAI"    onclick="selectAiModel('grok','pc')">𝕏</div>
                  <div class="ai-model-dot" data-ai="gemini" data-label="GEMINI"  title="Gemini · Google" onclick="selectAiModel('gemini','pc')">✦</div>
                  <div class="ai-model-dot" data-ai="gpt"    data-label="CHATGPT" title="ChatGPT · OpenAI" onclick="selectAiModel('gpt','pc')">⬡</div>
                  <div class="ai-model-dot selected" data-ai="claude" data-label="CLAUDE" title="Claude · Anthropic" onclick="selectAiModel('claude','pc')">◆</div>
                </div>
                <div class="ai-omnibar-divider"></div>
                <button class="ai-omnibar-send" onclick="aiOmnibarSend('pc')" title="Send">
                  <i class="ph-bold ph-paper-plane-tilt"></i>
                </button>
              </div>
            </div>

          </div><!-- end t1era-page-wrap -->
        </div>
        <!-- end super-panel-1 -->

      </div>
      <!-- end feed-col -->

      <!-- ── RIGHT SIDEBAR ── -->
      <aside class="sidebar-right">
        <!-- skeleton -->
        <div class="sk-page-overlay" id="skRight">
          <div class="sk-widget">
            <div class="sk-pulse sk-widget-title"></div>
            <div class="sk-wtf-row">
              <div class="sk-pulse sk-circle sk-wtf-av"></div>
              <div class="sk-wtf-info">
                <div class="sk-pulse sk-wtf-name"></div>
                <div class="sk-pulse sk-wtf-sub"></div>
              </div>
              <div class="sk-pulse sk-wtf-btn"></div>
            </div>
            <div class="sk-wtf-row">
              <div class="sk-pulse sk-circle sk-wtf-av"></div>
              <div class="sk-wtf-info">
                <div class="sk-pulse sk-wtf-name"></div>
                <div class="sk-pulse sk-wtf-sub"></div>
              </div>
              <div class="sk-pulse sk-wtf-btn"></div>
            </div>
            <div class="sk-wtf-row">
              <div class="sk-pulse sk-circle sk-wtf-av"></div>
              <div class="sk-wtf-info">
                <div class="sk-pulse sk-wtf-name"></div>
                <div class="sk-pulse sk-wtf-sub"></div>
              </div>
              <div class="sk-pulse sk-wtf-btn"></div>
            </div>
          </div>
          <div class="sk-widget">
            <div class="sk-pulse sk-widget-title"></div>
            <div class="sk-trd-row">
              <div class="sk-pulse sk-trd-num"></div>
              <div class="sk-pulse sk-trd-tag"></div>
            </div>
            <div class="sk-trd-row">
              <div class="sk-pulse sk-trd-num"></div>
              <div class="sk-pulse sk-trd-tag"></div>
            </div>
            <div class="sk-trd-row">
              <div class="sk-pulse sk-trd-num"></div>
              <div class="sk-pulse sk-trd-tag"></div>
            </div>
            <div class="sk-trd-row">
              <div class="sk-pulse sk-trd-num"></div>
              <div class="sk-pulse sk-trd-tag"></div>
            </div>
          </div>
        </div>

        <!-- real -->
        <div class="real-content sk-hidden" id="realRight">
          <!-- Who to Follow -->
          <div class="widget">
            <p class="widget-title">Who to Follow</p>
            <div id="wtfList">
              <div
                class="sk-wtf-row"
                style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  padding: 8px 0;
                "
              >
                <div
                  class="sk-pulse sk-circle sk-wtf-av"
                  style="
                    width: 36px;
                    height: 36px;
                    border-radius: 50%;
                    background: var(--bg-4);
                    flex-shrink: 0;
                  "
                ></div>
                <div class="sk-wtf-info" style="flex: 1">
                  <div
                    class="sk-pulse sk-wtf-name"
                    style="
                      height: 10px;
                      border-radius: 4px;
                      background: var(--bg-4);
                      width: 70%;
                      margin-bottom: 6px;
                    "
                  ></div>
                  <div
                    class="sk-pulse sk-wtf-sub"
                    style="
                      height: 8px;
                      border-radius: 4px;
                      background: var(--bg-4);
                      width: 50%;
                    "
                  ></div>
                </div>
                <div
                  class="sk-pulse sk-wtf-btn"
                  style="
                    height: 26px;
                    width: 56px;
                    border-radius: 100px;
                    background: var(--bg-4);
                  "
                ></div>
              </div>
              <div
                class="sk-wtf-row"
                style="
                  display: flex;
                  align-items: center;
                  gap: 10px;
                  padding: 8px 0;
                "
              >
                <div
                  class="sk-pulse sk-circle sk-wtf-av"
                  style="
                    width: 36px;
                    height: 36px;
                    border-radius: 50%;
                    background: var(--bg-4);
                    flex-shrink: 0;
                  "
                ></div>
                <div class="sk-wtf-info" style="flex: 1">
                  <div
                    class="sk-pulse sk-wtf-name"
                    style="
                      height: 10px;
                      border-radius: 4px;
                      background: var(--bg-4);
                      width: 70%;
                      margin-bottom: 6px;
                    "
                  ></div>
                  <div
                    class="sk-pulse sk-wtf-sub"
                    style="
                      height: 8px;
                      border-radius: 4px;
                      background: var(--bg-4);
                      width: 50%;
                    "
                  ></div>
                </div>
                <div
                  class="sk-pulse sk-wtf-btn"
                  style="
                    height: 26px;
                    width: 56px;
                    border-radius: 100px;
                    background: var(--bg-4);
                  "
                ></div>
              </div>
            </div>
          </div>

          <!-- Trending Topics -->
          <div class="widget">
            <p class="widget-title">Trending Topics</p>
            <div class="trd-row">
              <div class="trd-num hot">1</div>
              <div>
                <div class="trd-tag">#T1ERA 🔥</div>
                <div class="trd-cnt">1,204 Sparks</div>
              </div>
            </div>
            <div class="trd-row">
              <div class="trd-num hot">2</div>
              <div>
                <div class="trd-tag">#BuildInPublic 🔥</div>
                <div class="trd-cnt">847 Sparks</div>
              </div>
            </div>
            <div class="trd-row">
              <div class="trd-num">3</div>
              <div>
                <div class="trd-tag">#UIDesign</div>
                <div class="trd-cnt">562 Sparks</div>
              </div>
            </div>
            <div class="trd-row">
              <div class="trd-num">4</div>
              <div>
                <div class="trd-tag">#AI</div>
                <div class="trd-cnt">489 Sparks</div>
              </div>
            </div>
            <div class="trd-row">
              <div class="trd-num">5</div>
              <div>
                <div class="trd-tag">#DarkMode</div>
                <div class="trd-cnt">317 Sparks</div>
              </div>
            </div>
          </div>

          <!-- Active now -->
          <div class="widget">
            <p class="widget-title">Active Now</p>
            <div style="display: flex; flex-direction: column; gap: 10px">
              <div style="display: flex; align-items: center; gap: 10px">
                <div style="position: relative">
                  <div
                    class="wtf-av"
                    style="
                      background: linear-gradient(135deg, #c2185b, #8b5cf6);
                      width: 32px;
                      height: 32px;
                      font-size: 11px;
                    "
                  >
                    IB
                  </div>
                  <span
                    style="
                      position: absolute;
                      bottom: 0;
                      right: 0;
                      width: 9px;
                      height: 9px;
                      border-radius: 50%;
                      background: var(--green);
                      border: 2px solid var(--bg-card);
                    "
                  ></span>
                </div>
                <div>
                  <div class="wtf-name" style="font-size: 12px">
                    Ikram Basri
                  </div>
                  <div class="wtf-sub">Posting now</div>
                </div>
              </div>
              <div style="display: flex; align-items: center; gap: 10px">
                <div style="position: relative">
                  <div
                    class="wtf-av"
                    style="
                      background: linear-gradient(135deg, #f59e0b, #f97316);
                      width: 32px;
                      height: 32px;
                      font-size: 11px;
                    "
                  >
                    WA
                  </div>
                  <span
                    style="
                      position: absolute;
                      bottom: 0;
                      right: 0;
                      width: 9px;
                      height: 9px;
                      border-radius: 50%;
                      background: var(--green);
                      border: 2px solid var(--bg-card);
                    "
                  ></span>
                </div>
                <div>
                  <div class="wtf-name" style="font-size: 12px">
                    Wani Aisyah
                  </div>
                  <div class="wtf-sub">Active 1m ago</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- end realRight -->
      </aside>
    </div>
    <!-- end page-wrap -->

    <!-- ═══════════════════════════
     AI OMNIBAR — MOBILE FIXED (shown only on T1ERA tab)
═══════════════════════════ -->
    <div class="ai-omnibar-mobile" id="aiOmnibarMobile">
      <!-- Row 1: text input + send -->
      <div class="ai-omnibar-input-row">
        <input
          class="ai-omnibar-input"
          id="aiOmniInputMob"
          placeholder="Ask any AI…"
          autocomplete="off"
          onkeydown="if(event.key==='Enter')aiOmnibarSend('mob')"
        />
        <button class="ai-omnibar-send" onclick="aiOmnibarSend('mob')" title="Send">
          <i class="ph-bold ph-paper-plane-tilt"></i>
        </button>
      </div>
      <!-- Row 2: AI model selector icons -->
      <div class="ai-omnibar-models" id="aiModelsMob">
        <div class="ai-model-item selected" onclick="selectAiModel('claude','mob')">
          <div class="ai-model-dot selected" data-ai="claude">◆</div>
          <span class="ai-model-label">Claude</span>
        </div>
        <div class="ai-model-item" onclick="selectAiModel('grok','mob')">
          <div class="ai-model-dot" data-ai="grok">𝕏</div>
          <span class="ai-model-label">Grok</span>
        </div>
        <div class="ai-model-item" onclick="selectAiModel('gemini','mob')">
          <div class="ai-model-dot" data-ai="gemini">✦</div>
          <span class="ai-model-label">Gemini</span>
        </div>
        <div class="ai-model-item" onclick="selectAiModel('gpt','mob')">
          <div class="ai-model-dot" data-ai="gpt">⬡</div>
          <span class="ai-model-label">ChatGPT</span>
        </div>
      </div>
    </div>

    <!-- ═══════════════════════════
     MOBILE BOTTOM NAV
═══════════════════════════ -->
    <nav class="mob-nav">
      <a href="profile.html" class="mob-btn"
        ><i class="ph-bold ph-house"></i
      ></a>
      <button class="mob-btn active">
        <i class="ph-bold ph-lightning"></i>
      </button>
      <button class="mob-post" onclick="openCompose()">
        <i class="ph-bold ph-plus"></i>
      </button>
      <div class="mob-bell-wrap">
        <button class="mob-btn" onclick="toggleNotifPanel()">
          <i class="ph-bold ph-bell"></i>
        </button>
        <span class="mob-notif-badge" id="mobNotifBadge">0</span>
      </div>
      <a href="profile.html" class="mob-btn"
        ><i class="ph-bold ph-user-circle"></i
      ></a>
    </nav>

    <!-- ═══════════════════════════
     PROFILE POPUP
═══════════════════════════ -->
    <div
      class="popup-overlay"
      id="popupOverlay"
      onclick="if (event.target === this) closeProfile();"
    >
      <div class="popup-sheet">
        <div class="popup-handle"></div>
        <div class="popup-banner" id="popupBanner">
          <div class="popup-av" id="popupAv">U</div>
          <button
            class="popup-follow-btn"
            id="popupFollowBtn"
            onclick="togglePopupFollow(this)"
          >
            + Follow
          </button>
        </div>
        <div class="popup-info">
          <div class="popup-name" id="popupName">Name</div>
          <div class="popup-handle-text" id="popupHandle">@handle</div>
          <div class="popup-bio-text" id="popupBio"></div>
          <div class="popup-stats" id="popupStats"></div>
          <div
            class="badges-row"
            id="popupBadges"
            style="margin-top: 10px"
          ></div>
        </div>
        <div class="popup-actions">
          <a href="profile.html" class="popup-act-btn"
            ><i class="ph-bold ph-user-circle"></i> View Profile</a
          >
          <button
            class="popup-act-btn"
            onclick="
              closeProfile();
              openReply(_pName, _pAv, _pColor, '');
            "
          >
            <i class="ph-bold ph-paper-plane-tilt"></i> Message
          </button>
          <button class="popup-act-btn" onclick="closeProfile()">
            <i class="ph-bold ph-x"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- ═══════════════════════════
     REPLY MODAL
═══════════════════════════ -->
    <div
      class="reply-overlay"
      id="replyOverlay"
      onclick="if (event.target === this) closeReply();"
    >
      <div class="reply-sheet">
        <div class="reply-header">
          <span class="reply-title"
            ><i class="ph-bold ph-chat-circle"></i> REPLY SPARK</span
          >
          <button class="reply-close" onclick="closeReply()">
            <i class="ph-bold ph-x"></i>
          </button>
        </div>
        <!-- Original spark preview -->
        <div class="reply-orig">
          <div class="reply-orig-head">
            <div
              class="reply-orig-av"
              id="origAv"
              style="background: linear-gradient(135deg, #c2185b, #8b5cf6)"
            >
              U
            </div>
            <span class="reply-orig-author" id="origAuthor">Author</span>
            <span class="reply-orig-tag">· original spark</span>
          </div>
          <p class="reply-orig-text" id="origText"></p>
        </div>
        <!-- Compose reply -->
        <div class="reply-compose">
          <div class="reply-av">M</div>
          <textarea
            class="reply-textarea"
            id="replyTa"
            placeholder="Write your reply spark…"
            maxlength="500"
          ></textarea>
        </div>
        <div class="reply-footer">
          <div class="reply-media-row">
            <button
              class="media-btn"
              title="Image"
              style="width: 30px; height: 30px"
            >
              <i class="ph-bold ph-image"></i
              ><input type="file" accept="image/*" />
            </button>
            <button
              class="media-btn"
              title="GIF"
              style="width: 30px; height: 30px"
              onclick="alert('GIF picker coming soon')"
            >
              <i class="ph-bold ph-gif"></i>
            </button>
            <button
              class="media-btn"
              title="Emoji"
              style="width: 30px; height: 30px"
              onclick="openEmojiPicker('replyTa')"
            >
              <i class="ph-bold ph-smiley"></i>
            </button>
          </div>
          <button class="reply-submit" onclick="submitReply()">Reply ⚡</button>
        </div>
        <!-- Existing replies -->
        <div class="replies-list" id="repliesList">
          <div class="reply-item">
            <div
              class="ri-av"
              style="background: linear-gradient(135deg, #f59e0b, #f97316)"
            >
              WA
            </div>
            <div class="ri-body">
              <span class="ri-author">Wani Aisyah</span>
              <span class="ri-time">5m ago</span>
              <p class="ri-text">
                This is incredible! So proud of what you've built 🙌 Keep
                going!!
              </p>
            </div>
          </div>
          <div class="reply-item">
            <div
              class="ri-av"
              style="background: linear-gradient(135deg, #8b5cf6, #c2185b)"
            >
              DL
            </div>
            <div class="ri-body">
              <span class="ri-author">Danial L.</span>
              <span class="ri-time">12m ago</span>
              <p class="ri-text">
                Fire 🔥 Clean execution. When does the full app launch?
              </p>
            </div>
          </div>
          <div class="reply-item">
            <div
              class="ri-av"
              style="background: linear-gradient(135deg, #10b981, #0ea5e9)"
            >
              LF
            </div>
            <div class="ri-body">
              <span class="ri-author">Luqman Faiz</span>
              <span class="ri-time">28m ago</span>
              <p class="ri-text">
                The design is ✨ — especially the dark mode. Inspired to redo my
                own profile now.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="spark-core.js"></script>
    <script type="module" src="spark-module.js"></script>
    <script type="module" src="spark-prompt-module.js"></script>

    <!-- ═══════════════════════════
     EMOJI PICKER OVERLAY
═══════════════════════════ -->
    <div
      class="emoji-picker-overlay"
      id="emojiPickerOverlay"
      onclick="if (event.target === this) closeEmojiPicker();"
    >
      <div class="emoji-picker-popup">
        <div class="emoji-picker-header">
          <span class="emoji-picker-title"
            ><i class="ph-bold ph-smiley"></i> Pick an Emoji</span
          >
          <button class="emoji-picker-close" onclick="closeEmojiPicker()">
            <i class="ph-bold ph-x"></i>
          </button>
        </div>
        <div class="emoji-picker-grid" id="emojiPickerGrid"></div>
      </div>
    </div>

    <!-- ═══════════════════════════
     YOUTUBE VIDEO MODAL
═══════════════════════════ -->
    <div
      class="yt-modal-overlay"
      id="ytModalOverlay"
      onclick="if (event.target === this) closeYtModal();"
    >
      <div class="yt-modal-inner">
        <button class="yt-modal-close" onclick="closeYtModal()">
          <i class="ph-bold ph-x"></i>
        </button>
        <div class="yt-modal-iframe-wrap" id="ytModalIframeWrap"></div>
      </div>
    </div>

    <!-- ═══════════════════════════
     NOTIFICATION BACKDROP + PANEL
═══════════════════════════ -->
    <div
      class="notif-backdrop"
      id="notifBackdrop"
      onclick="closeNotifPanel()"
    ></div>

    <div class="notif-panel" id="notifPanel">
      <div class="notif-header">
        <div class="notif-title">
          <i class="ph-bold ph-bell"></i> Notifications
        </div>
        <div style="display: flex; align-items: center; gap: 8px">
          <button class="notif-mark-all" onclick="markAllRead()">
            Mark all read
          </button>
          <button
            class="settings-close"
            onclick="closeNotifPanel()"
            title="Close"
            style="width: 24px; height: 24px; font-size: 12px"
          >
            <i class="ph-bold ph-x"></i>
          </button>
        </div>
      </div>
      <div class="notif-list" id="notifList">
        <div class="notif-empty" id="notifEmpty">
          <i class="ph-bold ph-bell-slash"></i>
          <p>No notifications yet</p>
        </div>
      </div>
    </div>

    <!-- ═══════════════════════════
     SETTINGS BACKDROP + PANEL
     NOTE: backdrop z-index:397 (via CSS #settingsBackdrop rule)
           panel   z-index:398 — panel is ABOVE backdrop
           clicks inside panel do NOT reach backdrop
═══════════════════════════ -->
    <div
      class="notif-backdrop"
      id="settingsBackdrop"
      onclick="closeSettingsPanel()"
    ></div>

    <div class="settings-panel" id="settingsPanel">
      <div class="settings-header">
        <div class="settings-title">
          <i class="ph-bold ph-gear"></i> Settings
        </div>
        <button class="settings-close" onclick="closeSettingsPanel()">
          <i class="ph-bold ph-x"></i>
        </button>
      </div>
      <div class="settings-body">
        <div>
          <div class="settings-section-label">Account</div>
          <div class="settings-placeholder">
            <i class="ph-bold ph-user-circle"></i>
            <span>Account settings — coming soon</span>
          </div>
        </div>

        <div>
          <div class="settings-section-label">Appearance</div>
          <div id="appearanceSettingsSlot">
            <div class="settings-placeholder" id="appearanceLoadingPlaceholder">
              <i class="ph-bold ph-paint-brush"></i>
              <span>Loading display settings…</span>
            </div>
          </div>
        </div>

        <div>
          <div class="settings-section-label">Notifications</div>
          <div class="settings-placeholder">
            <i class="ph-bold ph-bell"></i>
            <span>Notification preferences — coming soon</span>
          </div>
        </div>

        <div>
          <div class="settings-section-label">Privacy &amp; Security</div>
          <div class="settings-placeholder">
            <i class="ph-bold ph-shield"></i>
            <span>Privacy controls — coming soon</span>
          </div>
        </div>

        <div>
          <div class="settings-section-label">Language &amp; Region</div>
          <div class="settings-placeholder">
            <i class="ph-bold ph-translate"></i>
            <span>Language &amp; region — coming soon</span>
          </div>
        </div>
      </div>
    </div>

    <script src="popup-announce.js"></script>

    <!-- ═══════════════════════════
     SUPER TAB SWITCH LOGIC
═══════════════════════════ -->
    <script>
      /* ── Super Tab Switch ── */
      function switchSuperTab(idx, btn) {
        document.querySelectorAll('.super-tab-btn').forEach(function(b) {
          b.classList.remove('active');
        });
        document.querySelectorAll('.super-tab-panel').forEach(function(p) {
          p.classList.remove('active');
        });
        btn.classList.add('active');
        document.getElementById('super-panel-' + idx).classList.add('active');

        /* Toggle T1ERA mode on body for CSS hooks */
        if (idx === 1) {
          document.body.classList.add('t1era-active');
        } else {
          document.body.classList.remove('t1era-active');
        }
      }

      /* ── AI Omnibar: model selection ── */
      var _aiSelected = { mob: 'claude', pc: 'claude' };

      function selectAiModel(ai, ctx) {
        _aiSelected[ctx] = ai;
        if (ctx === 'mob') {
          /* mobile: toggle on .ai-model-item wrappers */
          var mob = document.getElementById('aiModelsMob');
          if (mob) {
            mob.querySelectorAll('.ai-model-item').forEach(function(item) {
              var dot = item.querySelector('.ai-model-dot');
              var isMatch = dot && dot.dataset.ai === ai;
              item.classList.toggle('selected', isMatch);
              if (dot) dot.classList.toggle('selected', isMatch);
            });
          }
        } else {
          /* pc: toggle on .ai-model-dot directly */
          var pc = document.getElementById('aiModelsPc');
          if (pc) {
            pc.querySelectorAll('.ai-model-dot').forEach(function(dot) {
              dot.classList.toggle('selected', dot.dataset.ai === ai);
            });
          }
        }
      }

      /* ── AI Omnibar: send handler ── */
      function aiOmnibarSend(ctx) {
        var inputId = ctx === 'mob' ? 'aiOmniInputMob' : 'aiOmniInputPc';
        var input = document.getElementById(inputId);
        if (!input) return;
        var txt = input.value.trim();
        if (!txt) return;

        var ai = _aiSelected[ctx] || 'claude';
        var labels = { grok: 'Grok', gemini: 'Gemini', gpt: 'ChatGPT', claude: 'Claude' };
        var label = labels[ai] || ai;

        if (typeof window.showToast === 'function') {
          window.showToast(label + ' integration coming soon ⚡');
        }
        input.value = '';
        input.focus();
      }
    </script>

  </body>
</html>
